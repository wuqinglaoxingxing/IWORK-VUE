{"version":3,"sources":["webpack:///./src/components/iwork-picture-magnifier.vue?706e","webpack:///src/components/iwork-picture-magnifier.vue","webpack:///./src/components/iwork-picture-magnifier.vue?1033","webpack:///./src/components/iwork-picture-magnifier.vue","webpack:///./src/components/iwork-picture-magnifier.vue?45f7","webpack:///./src/assets/picture-magnifier.jpg"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","style","width","photoSize","height","attrs","photo","hoverBox","enlargeImg","staticRenderFns","name","props","type","String","default","scale","Number","data","computed","parseInt","mounted","positionEnlargeImage","currentX","left","currentY","top","currentEnlargeImageX","currentEnlargeImageY","iworkPhotoMagnifierWrapEnlargeShowboxImg","iworkPhotoMagnifierWrapShowbox","addEventListener","clearTimeout","iworkPhotoMagnifierWrapShowboxHoverboxMouseMoveTimer","setTimeout","iworkPhotoMagnifierWrapShowboxHoverboxMouseOutTimer","component","module","exports"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,IAAI,6BAA6BC,YAAY,8BAA8B,CAACH,EAAG,MAAM,CAACE,IAAI,qCAAqCC,YAAY,qCAAqCC,MAAM,CAAGC,MAAOT,EAAIU,UAAWC,OAAQX,EAAIU,YAAc,CAACN,EAAG,MAAM,CAACE,IAAI,yCAAyCC,YAAY,yCAAyCC,MAAM,CAAGC,MAAOT,EAAIU,UAAWC,OAAQX,EAAIU,WAAaE,MAAM,CAAC,IAAMZ,EAAIa,MAAM,IAAM,MAAMT,EAAG,MAAM,CAACE,IAAI,8CAA8CC,YAAY,8CAA8CC,MAAM,CAAGC,MAAOT,EAAIc,SAAUH,OAAQX,EAAIc,cAAgBV,EAAG,MAAM,CAACE,IAAI,6CAA6CC,YAAY,6CAA6CC,MAAM,CAAGC,MAAOT,EAAIU,UAAWC,OAAQX,EAAIU,YAAc,CAACN,EAAG,MAAM,CAACE,IAAI,iDAAiDC,YAAY,iDAAiDC,MAAM,CAAGC,MAAOT,EAAIe,WAAYJ,OAAQX,EAAIe,YAAcH,MAAM,CAAC,IAAMZ,EAAIa,MAAM,IAAM,WACxkCG,EAAkB,GCmCtB,G,UAAA,CACEC,KAAM,wBACNC,MAAO,CACLR,UAAW,CACTS,KAAMC,OACNC,QAAS,SAEXC,MAAO,CACLH,KAAMI,OACNF,QAAS,GAEXR,MAAO,CACLM,KAAMC,OACNC,QAAN,YAGEG,KAhBF,WAiBI,MAAO,IAETC,SAAU,CACRX,SAAU,WACR,OAAOY,SAASzB,KAAKS,WAAaT,KAAKqB,MAAQ,MAEjDP,WAAY,WACV,OAAOW,SAASzB,KAAKS,WAAaT,KAAKqB,MAAQ,OAGnDK,QA3BF,WA4BI,IAAJ,OAEA,GADA,yCACA,WACA,uCAKA,GAHA,WACA,0CAEA,WACA,gDAEA,aACA,8CAEA,aACA,kDAEA,OACA,OAEI,SAASC,EAAqBd,GAC5B,IAAIe,EAAWH,SAASZ,EAASN,MAAMsB,MACnCC,EAAWL,SAASZ,EAASN,MAAMwB,KACnCC,EACV,+CACUC,EACV,+CAEMC,EAAyC3B,MAAMsB,MACrD,OACMK,EAAyC3B,MAAMwB,KACrD,OAIII,EAA+BC,iBAAiB,aAAa,SAAjE,GACMC,aAAaC,GACbA,EAAuDC,YAC7D,WAEQ,EAAR,sBAEQ,EAAR,cACA,qDAIA,UACA,gBAEU,EAAV,aAGA,UACA,cACA,gBAEU,EAAV,WACA,cACA,cACA,KAEU,EAAV,WACA,UACA,gBACA,KAIA,UACA,iBAEU,EAAV,YAGA,UACA,eACA,iBAEU,EAAV,UACA,eACA,eACA,KAEU,EAAV,UACA,UACA,iBACA,KAEQ,EAAR,KAEA,MAIIJ,EAA+BC,iBAAiB,YAAY,SAAhE,GACMC,aAAaG,GACbA,EAAsDD,YAC5D,WAEQ,EAAR,qBAEQ,EAAR,iBACA,uDAGA,SC1KiW,I,wBCQ7VE,EAAY,eACd,EACA3C,EACAiB,GACA,EACA,KACA,WACA,MAIa,aAAA0B,E,6CCnBf,yBAAojB,EAAG,G,qBCAvjBC,EAAOC,QAAU,IAA0B,sC","file":"js/chunk-ceec0cfc.36a799e1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"iwork-photo-magnifier-wrap\",staticClass:\"iwork-photo-magnifier-wrap\"},[_c('div',{ref:\"iwork-photo-magnifier-wrap-showbox\",staticClass:\"iwork-photo-magnifier-wrap-showbox\",style:({ width: _vm.photoSize, height: _vm.photoSize })},[_c('img',{ref:\"iwork-photo-magnifier-wrap-showbox-img\",staticClass:\"iwork-photo-magnifier-wrap-showbox-img\",style:({ width: _vm.photoSize, height: _vm.photoSize }),attrs:{\"src\":_vm.photo,\"alt\":\"\"}}),_c('div',{ref:\"iwork-photo-magnifier-wrap-showbox-hoverbox\",staticClass:\"iwork-photo-magnifier-wrap-showbox-hoverbox\",style:({ width: _vm.hoverBox, height: _vm.hoverBox })})]),_c('div',{ref:\"iwork-photo-magnifier-wrap-enlarge-showbox\",staticClass:\"iwork-photo-magnifier-wrap-enlarge-showbox\",style:({ width: _vm.photoSize, height: _vm.photoSize })},[_c('img',{ref:\"iwork-photo-magnifier-wrap-enlarge-showbox-img\",staticClass:\"iwork-photo-magnifier-wrap-enlarge-showbox-img\",style:({ width: _vm.enlargeImg, height: _vm.enlargeImg }),attrs:{\"src\":_vm.photo,\"alt\":\"\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div ref=\"iwork-photo-magnifier-wrap\" class=\"iwork-photo-magnifier-wrap\">\r\n    <div\r\n      ref=\"iwork-photo-magnifier-wrap-showbox\"\r\n      :style=\"{ width: photoSize, height: photoSize }\"\r\n      class=\"iwork-photo-magnifier-wrap-showbox\"\r\n    >\r\n      <img\r\n        ref=\"iwork-photo-magnifier-wrap-showbox-img\"\r\n        :style=\"{ width: photoSize, height: photoSize }\"\r\n        class=\"iwork-photo-magnifier-wrap-showbox-img\"\r\n        :src=\"photo\"\r\n        alt=\"\"\r\n      />\r\n      <div\r\n        ref=\"iwork-photo-magnifier-wrap-showbox-hoverbox\"\r\n        :style=\"{ width: hoverBox, height: hoverBox }\"\r\n        class=\"iwork-photo-magnifier-wrap-showbox-hoverbox\"\r\n      ></div>\r\n    </div>\r\n    <div\r\n      ref=\"iwork-photo-magnifier-wrap-enlarge-showbox\"\r\n      :style=\"{ width: photoSize, height: photoSize }\"\r\n      class=\"iwork-photo-magnifier-wrap-enlarge-showbox\"\r\n    >\r\n      <img\r\n        ref=\"iwork-photo-magnifier-wrap-enlarge-showbox-img\"\r\n        :style=\"{ width: enlargeImg, height: enlargeImg }\"\r\n        class=\"iwork-photo-magnifier-wrap-enlarge-showbox-img\"\r\n        :src=\"photo\"\r\n        alt=\"\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"iworkPictureMagnifier\",\r\n  props: {\r\n    photoSize: {\r\n      type: String,\r\n      default: \"400px\",\r\n    },\r\n    scale: {\r\n      type: Number,\r\n      default: 4,\r\n    },\r\n    photo: {\r\n      type: String,\r\n      default:require(\"../assets/picture-magnifier.jpg\")\r\n    },\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  computed: {\r\n    hoverBox: function() {\r\n      return parseInt(this.photoSize) / this.scale + \"px\";\r\n    },\r\n    enlargeImg: function() {\r\n      return parseInt(this.photoSize) * this.scale + \"px\";\r\n    },\r\n  },\r\n  mounted() {\r\n    let _this = this;\r\n    let iworkPhotoMagnifierWrap = this.$refs[\"iwork-photo-magnifier-wrap\"];\r\n    let iworkPhotoMagnifierWrapShowbox = this.$refs[\r\n      \"iwork-photo-magnifier-wrap-showbox\"\r\n    ];\r\n    let iworkPhotoMagnifierWrapShowboxImg = this.$refs[\r\n      \"iwork-photo-magnifier-wrap-showbox-img\"\r\n    ];\r\n    let iworkPhotoMagnifierWrapShowboxHoverbox = this.$refs[\r\n      \"iwork-photo-magnifier-wrap-showbox-hoverbox\"\r\n    ];\r\n    let iworkPhotoMagnifierWrapEnlargeShowbox = this.$refs[\r\n      \"iwork-photo-magnifier-wrap-enlarge-showbox\"\r\n    ];\r\n    let iworkPhotoMagnifierWrapEnlargeShowboxImg = this.$refs[\r\n      \"iwork-photo-magnifier-wrap-enlarge-showbox-img\"\r\n    ];\r\n    let iworkPhotoMagnifierWrapShowboxHoverboxMouseMoveTimer = null;\r\n    let iworkPhotoMagnifierWrapShowboxHoverboxMouseOutTimer = null;\r\n    // 放大图片的定位 放大倍数需要同覆盖div成相应比例，才能更加优雅\r\n    function positionEnlargeImage(hoverBox) {\r\n      var currentX = parseInt(hoverBox.style.left);\r\n      var currentY = parseInt(hoverBox.style.top);\r\n      var currentEnlargeImageX =\r\n        (currentX / parseInt(_this.photoSize)) * parseInt(_this.enlargeImg);\r\n      var currentEnlargeImageY =\r\n        (currentY / parseInt(_this.photoSize)) * parseInt(_this.enlargeImg);\r\n\r\n      iworkPhotoMagnifierWrapEnlargeShowboxImg.style.left =\r\n        -currentEnlargeImageX + \"px\";\r\n      iworkPhotoMagnifierWrapEnlargeShowboxImg.style.top =\r\n        -currentEnlargeImageY + \"px\";\r\n    }\r\n\r\n    // 图片外层div鼠标事件移动监听\r\n    iworkPhotoMagnifierWrapShowbox.addEventListener(\"mousemove\", function(e) {\r\n      clearTimeout(iworkPhotoMagnifierWrapShowboxHoverboxMouseMoveTimer);\r\n      iworkPhotoMagnifierWrapShowboxHoverboxMouseMoveTimer = setTimeout(\r\n        function() {\r\n          // 让覆盖层出现\r\n          iworkPhotoMagnifierWrapShowboxHoverbox.style.display = \"block\";\r\n          // 让放大图片出现\r\n          iworkPhotoMagnifierWrapEnlargeShowbox.classList.add(\r\n            \"iwork-photo-magnifier-wrap-enlarge-showbox-active\"\r\n          );\r\n          // 判断元素在最左侧\r\n          if (\r\n            e.offsetX <\r\n            iworkPhotoMagnifierWrapShowboxHoverbox.offsetWidth / 2\r\n          ) {\r\n            iworkPhotoMagnifierWrapShowboxHoverbox.style.left = 0;\r\n            // 判断元素在最右侧\r\n          } else if (\r\n            e.offsetX >\r\n            iworkPhotoMagnifierWrapShowbox.offsetWidth -\r\n              iworkPhotoMagnifierWrapShowboxHoverbox.offsetWidth / 2\r\n          ) {\r\n            iworkPhotoMagnifierWrapShowboxHoverbox.style.left =\r\n              iworkPhotoMagnifierWrapShowbox.offsetWidth -\r\n              iworkPhotoMagnifierWrapShowboxHoverbox.offsetWidth +\r\n              \"px\";\r\n          } else {\r\n            iworkPhotoMagnifierWrapShowboxHoverbox.style.left =\r\n              e.offsetX -\r\n              iworkPhotoMagnifierWrapShowboxHoverbox.offsetWidth / 2 +\r\n              \"px\";\r\n          }\r\n          // 判断元素在最上侧\r\n          if (\r\n            e.offsetY <\r\n            iworkPhotoMagnifierWrapShowboxHoverbox.offsetHeight / 2\r\n          ) {\r\n            iworkPhotoMagnifierWrapShowboxHoverbox.style.top = 0;\r\n            // 判断元素在最下侧\r\n          } else if (\r\n            e.offsetY >\r\n            iworkPhotoMagnifierWrapShowbox.offsetHeight -\r\n              iworkPhotoMagnifierWrapShowboxHoverbox.offsetHeight / 2\r\n          ) {\r\n            iworkPhotoMagnifierWrapShowboxHoverbox.style.top =\r\n              iworkPhotoMagnifierWrapShowbox.offsetHeight -\r\n              iworkPhotoMagnifierWrapShowboxHoverbox.offsetHeight +\r\n              \"px\";\r\n          } else {\r\n            iworkPhotoMagnifierWrapShowboxHoverbox.style.top =\r\n              e.offsetY -\r\n              iworkPhotoMagnifierWrapShowboxHoverbox.offsetHeight / 2 +\r\n              \"px\";\r\n          }\r\n          positionEnlargeImage(iworkPhotoMagnifierWrapShowboxHoverbox);\r\n        },\r\n        1\r\n      );\r\n    });\r\n\r\n    iworkPhotoMagnifierWrapShowbox.addEventListener(\"mouseout\", function(e) {\r\n      clearTimeout(iworkPhotoMagnifierWrapShowboxHoverboxMouseOutTimer);\r\n      iworkPhotoMagnifierWrapShowboxHoverboxMouseOutTimer = setTimeout(\r\n        function() {\r\n          // 让覆盖层消失\r\n          iworkPhotoMagnifierWrapShowboxHoverbox.style.display = \"none\";\r\n          // 让放大图片消失\r\n          iworkPhotoMagnifierWrapEnlargeShowbox.classList.remove(\r\n            \"iwork-photo-magnifier-wrap-enlarge-showbox-active\"\r\n          );\r\n        },\r\n        1\r\n      );\r\n    });\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.iwork-photo-magnifier-wrap {\r\n  position: relative;\r\n  display: inline-block;\r\n  font-size: 0;\r\n}\r\n.iwork-photo-magnifier-wrap > .iwork-photo-magnifier-wrap-showbox {\r\n  display: inline-block;\r\n  cursor: move;\r\n}\r\n.iwork-photo-magnifier-wrap > .iwork-photo-magnifier-wrap-showbox > img {\r\n  width: 400px;\r\n  height: 400px;\r\n}\r\n.iwork-photo-magnifier-wrap\r\n  > .iwork-photo-magnifier-wrap-showbox\r\n  > .iwork-photo-magnifier-wrap-showbox-hoverbox {\r\n  position: absolute;\r\n  display: none;\r\n  opacity: 0.3;\r\n  background: #09f;\r\n  z-index: 10;\r\n  pointer-events: none;\r\n}\r\n.iwork-photo-magnifier-wrap > .iwork-photo-magnifier-wrap-enlarge-showbox {\r\n  position: absolute;\r\n  display: none;\r\n  overflow: hidden;\r\n}\r\n.iwork-photo-magnifier-wrap\r\n  > .iwork-photo-magnifier-wrap-enlarge-showbox-active {\r\n  display: inline-block;\r\n}\r\n\r\n.iwork-photo-magnifier-wrap\r\n  > .iwork-photo-magnifier-wrap-enlarge-showbox\r\n  > img {\r\n  position: absolute;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iwork-picture-magnifier.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iwork-picture-magnifier.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./iwork-picture-magnifier.vue?vue&type=template&id=87b8af9a&scoped=true&\"\nimport script from \"./iwork-picture-magnifier.vue?vue&type=script&lang=js&\"\nexport * from \"./iwork-picture-magnifier.vue?vue&type=script&lang=js&\"\nimport style0 from \"./iwork-picture-magnifier.vue?vue&type=style&index=0&id=87b8af9a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"87b8af9a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iwork-picture-magnifier.vue?vue&type=style&index=0&id=87b8af9a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iwork-picture-magnifier.vue?vue&type=style&index=0&id=87b8af9a&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/picture-magnifier.142d434e.jpg\";"],"sourceRoot":""}