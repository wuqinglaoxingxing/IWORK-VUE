{"version":3,"sources":["webpack:///./src/components/iwork-picture-magnifier.vue?3f59","webpack:///src/components/iwork-picture-magnifier.vue","webpack:///./src/components/iwork-picture-magnifier.vue?1033","webpack:///./src/components/iwork-picture-magnifier.vue","webpack:///./src/components/iwork-picture-magnifier.vue?27da","webpack:///./src/assets/picture-magnifier.jpg"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","style","width","photoSize","height","attrs","photo","hoverBox","enlargeImg","staticRenderFns","name","props","type","String","default","scale","Number","data","computed","parseInt","mounted","positionEnlargeImage","currentX","left","currentY","top","currentEnlargeImageX","currentEnlargeImageY","iworkPhotoMagnifierWrapEnlargeShowboxImg","iworkPhotoMagnifierWrapShowbox","addEventListener","clearTimeout","iworkPhotoMagnifierWrapShowboxHoverboxMouseMoveTimer","setTimeout","iworkPhotoMagnifierWrapShowboxHoverboxMouseOutTimer","component","module","exports"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,IAAI,6BAA6BC,YAAY,8BAA8B,CAACH,EAAG,MAAM,CAACE,IAAI,qCAAqCC,YAAY,qCAAqCC,MAAM,CAAGC,MAAOT,EAAIU,UAAWC,OAAQX,EAAIU,YAAc,CAACN,EAAG,MAAM,CAACE,IAAI,yCAAyCC,YAAY,yCAAyCC,MAAM,CAAGC,MAAOT,EAAIU,UAAWC,OAAQX,EAAIU,WAAaE,MAAM,CAAC,IAAMZ,EAAIa,MAAM,IAAM,MAAMT,EAAG,MAAM,CAACE,IAAI,8CAA8CC,YAAY,8CAA8CC,MAAM,CAAGC,MAAOT,EAAIc,SAAUH,OAAQX,EAAIc,cAAgBV,EAAG,MAAM,CAACE,IAAI,6CAA6CC,YAAY,6CAA6CC,MAAM,CAAGC,MAAOT,EAAIU,UAAWC,OAAQX,EAAIU,YAAc,CAACN,EAAG,MAAM,CAACE,IAAI,iDAAiDC,YAAY,iDAAiDC,MAAM,CAAGC,MAAOT,EAAIe,WAAYJ,OAAQX,EAAIe,YAAcH,MAAM,CAAC,IAAMZ,EAAIa,MAAM,IAAM,WACxkCG,EAAkB,GCmCtB,G,UAAA,CACEC,KAAM,wBACNC,MAAO,CACLR,UAAW,CACTS,KAAMC,OACNC,QAAS,SAEXC,MAAO,CACLH,KAAMI,OACNF,QAAS,GAEXR,MAAO,CACLM,KAAMC,OACNC,QAAN,YAGEG,KAhBF,WAiBI,MAAO,IAETC,SAAU,CACRX,SAAU,WACR,OAAOY,SAASzB,KAAKS,WAAaT,KAAKqB,MAAQ,MAEjDP,WAAY,WACV,OAAOW,SAASzB,KAAKS,WAAaT,KAAKqB,MAAQ,OAGnDK,QA3BF,WA4BI,IAAJ,OAEA,GADA,yCACA,WACA,uCAKA,GAHA,WACA,0CAEA,WACA,gDAEA,aACA,8CAEA,aACA,kDAEA,OACA,OAEI,SAASC,EAAqBd,GAC5B,IAAIe,EAAWH,SAASZ,EAASN,MAAMsB,MACnCC,EAAWL,SAASZ,EAASN,MAAMwB,KACnCC,EACV,+CACUC,EACV,+CAEMC,EAAyC3B,MAAMsB,MACrD,OACMK,EAAyC3B,MAAMwB,KACrD,OAIII,EAA+BC,iBAAiB,aAAa,SAAjE,GACMC,aAAaC,GACbA,EAAuDC,YAC7D,WAEQ,EAAR,sBAEQ,EAAR,cACA,qDAIA,UACA,gBAEU,EAAV,aAGA,UACA,cACA,gBAEU,EAAV,WACA,cACA,cACA,KAEU,EAAV,WACA,UACA,gBACA,KAIA,UACA,iBAEU,EAAV,YAGA,UACA,eACA,iBAEU,EAAV,UACA,eACA,eACA,KAEU,EAAV,UACA,UACA,iBACA,KAEQ,EAAR,KAEA,MAIIJ,EAA+BC,iBAAiB,YAAY,SAAhE,GACMC,aAAaG,GACbA,EAAsDD,YAC5D,WAEQ,EAAR,qBAEQ,EAAR,iBACA,uDAGA,SC1KiW,I,wBCQ7VE,EAAY,eACd,EACA3C,EACAiB,GACA,EACA,KACA,WACA,MAIa,aAAA0B,E,oECnBf,yBAAojB,EAAG,G,qBCAvjBC,EAAOC,QAAU,IAA0B","file":"js/chunk-08d3a42d.d1db7f77.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"iwork-photo-magnifier-wrap\",staticClass:\"iwork-photo-magnifier-wrap\"},[_c('div',{ref:\"iwork-photo-magnifier-wrap-showbox\",staticClass:\"iwork-photo-magnifier-wrap-showbox\",style:({ width: _vm.photoSize, height: _vm.photoSize })},[_c('img',{ref:\"iwork-photo-magnifier-wrap-showbox-img\",staticClass:\"iwork-photo-magnifier-wrap-showbox-img\",style:({ width: _vm.photoSize, height: _vm.photoSize }),attrs:{\"src\":_vm.photo,\"alt\":\"\"}}),_c('div',{ref:\"iwork-photo-magnifier-wrap-showbox-hoverbox\",staticClass:\"iwork-photo-magnifier-wrap-showbox-hoverbox\",style:({ width: _vm.hoverBox, height: _vm.hoverBox })})]),_c('div',{ref:\"iwork-photo-magnifier-wrap-enlarge-showbox\",staticClass:\"iwork-photo-magnifier-wrap-enlarge-showbox\",style:({ width: _vm.photoSize, height: _vm.photoSize })},[_c('img',{ref:\"iwork-photo-magnifier-wrap-enlarge-showbox-img\",staticClass:\"iwork-photo-magnifier-wrap-enlarge-showbox-img\",style:({ width: _vm.enlargeImg, height: _vm.enlargeImg }),attrs:{\"src\":_vm.photo,\"alt\":\"\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div ref=\"iwork-photo-magnifier-wrap\" class=\"iwork-photo-magnifier-wrap\">\n    <div\n      ref=\"iwork-photo-magnifier-wrap-showbox\"\n      :style=\"{ width: photoSize, height: photoSize }\"\n      class=\"iwork-photo-magnifier-wrap-showbox\"\n    >\n      <img\n        ref=\"iwork-photo-magnifier-wrap-showbox-img\"\n        :style=\"{ width: photoSize, height: photoSize }\"\n        class=\"iwork-photo-magnifier-wrap-showbox-img\"\n        :src=\"photo\"\n        alt=\"\"\n      />\n      <div\n        ref=\"iwork-photo-magnifier-wrap-showbox-hoverbox\"\n        :style=\"{ width: hoverBox, height: hoverBox }\"\n        class=\"iwork-photo-magnifier-wrap-showbox-hoverbox\"\n      ></div>\n    </div>\n    <div\n      ref=\"iwork-photo-magnifier-wrap-enlarge-showbox\"\n      :style=\"{ width: photoSize, height: photoSize }\"\n      class=\"iwork-photo-magnifier-wrap-enlarge-showbox\"\n    >\n      <img\n        ref=\"iwork-photo-magnifier-wrap-enlarge-showbox-img\"\n        :style=\"{ width: enlargeImg, height: enlargeImg }\"\n        class=\"iwork-photo-magnifier-wrap-enlarge-showbox-img\"\n        :src=\"photo\"\n        alt=\"\"\n      />\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"iworkPictureMagnifier\",\n  props: {\n    photoSize: {\n      type: String,\n      default: \"400px\",\n    },\n    scale: {\n      type: Number,\n      default: 4,\n    },\n    photo: {\n      type: String,\n      default:require(\"../assets/picture-magnifier.jpg\")\n    },\n  },\n  data() {\n    return {};\n  },\n  computed: {\n    hoverBox: function() {\n      return parseInt(this.photoSize) / this.scale + \"px\";\n    },\n    enlargeImg: function() {\n      return parseInt(this.photoSize) * this.scale + \"px\";\n    },\n  },\n  mounted() {\n    let _this = this;\n    let iworkPhotoMagnifierWrap = this.$refs[\"iwork-photo-magnifier-wrap\"];\n    let iworkPhotoMagnifierWrapShowbox = this.$refs[\n      \"iwork-photo-magnifier-wrap-showbox\"\n    ];\n    let iworkPhotoMagnifierWrapShowboxImg = this.$refs[\n      \"iwork-photo-magnifier-wrap-showbox-img\"\n    ];\n    let iworkPhotoMagnifierWrapShowboxHoverbox = this.$refs[\n      \"iwork-photo-magnifier-wrap-showbox-hoverbox\"\n    ];\n    let iworkPhotoMagnifierWrapEnlargeShowbox = this.$refs[\n      \"iwork-photo-magnifier-wrap-enlarge-showbox\"\n    ];\n    let iworkPhotoMagnifierWrapEnlargeShowboxImg = this.$refs[\n      \"iwork-photo-magnifier-wrap-enlarge-showbox-img\"\n    ];\n    let iworkPhotoMagnifierWrapShowboxHoverboxMouseMoveTimer = null;\n    let iworkPhotoMagnifierWrapShowboxHoverboxMouseOutTimer = null;\n    // 放大图片的定位 放大倍数需要同覆盖div成相应比例，才能更加优雅\n    function positionEnlargeImage(hoverBox) {\n      var currentX = parseInt(hoverBox.style.left);\n      var currentY = parseInt(hoverBox.style.top);\n      var currentEnlargeImageX =\n        (currentX / parseInt(_this.photoSize)) * parseInt(_this.enlargeImg);\n      var currentEnlargeImageY =\n        (currentY / parseInt(_this.photoSize)) * parseInt(_this.enlargeImg);\n\n      iworkPhotoMagnifierWrapEnlargeShowboxImg.style.left =\n        -currentEnlargeImageX + \"px\";\n      iworkPhotoMagnifierWrapEnlargeShowboxImg.style.top =\n        -currentEnlargeImageY + \"px\";\n    }\n\n    // 图片外层div鼠标事件移动监听\n    iworkPhotoMagnifierWrapShowbox.addEventListener(\"mousemove\", function(e) {\n      clearTimeout(iworkPhotoMagnifierWrapShowboxHoverboxMouseMoveTimer);\n      iworkPhotoMagnifierWrapShowboxHoverboxMouseMoveTimer = setTimeout(\n        function() {\n          // 让覆盖层出现\n          iworkPhotoMagnifierWrapShowboxHoverbox.style.display = \"block\";\n          // 让放大图片出现\n          iworkPhotoMagnifierWrapEnlargeShowbox.classList.add(\n            \"iwork-photo-magnifier-wrap-enlarge-showbox-active\"\n          );\n          // 判断元素在最左侧\n          if (\n            e.offsetX <\n            iworkPhotoMagnifierWrapShowboxHoverbox.offsetWidth / 2\n          ) {\n            iworkPhotoMagnifierWrapShowboxHoverbox.style.left = 0;\n            // 判断元素在最右侧\n          } else if (\n            e.offsetX >\n            iworkPhotoMagnifierWrapShowbox.offsetWidth -\n              iworkPhotoMagnifierWrapShowboxHoverbox.offsetWidth / 2\n          ) {\n            iworkPhotoMagnifierWrapShowboxHoverbox.style.left =\n              iworkPhotoMagnifierWrapShowbox.offsetWidth -\n              iworkPhotoMagnifierWrapShowboxHoverbox.offsetWidth +\n              \"px\";\n          } else {\n            iworkPhotoMagnifierWrapShowboxHoverbox.style.left =\n              e.offsetX -\n              iworkPhotoMagnifierWrapShowboxHoverbox.offsetWidth / 2 +\n              \"px\";\n          }\n          // 判断元素在最上侧\n          if (\n            e.offsetY <\n            iworkPhotoMagnifierWrapShowboxHoverbox.offsetHeight / 2\n          ) {\n            iworkPhotoMagnifierWrapShowboxHoverbox.style.top = 0;\n            // 判断元素在最下侧\n          } else if (\n            e.offsetY >\n            iworkPhotoMagnifierWrapShowbox.offsetHeight -\n              iworkPhotoMagnifierWrapShowboxHoverbox.offsetHeight / 2\n          ) {\n            iworkPhotoMagnifierWrapShowboxHoverbox.style.top =\n              iworkPhotoMagnifierWrapShowbox.offsetHeight -\n              iworkPhotoMagnifierWrapShowboxHoverbox.offsetHeight +\n              \"px\";\n          } else {\n            iworkPhotoMagnifierWrapShowboxHoverbox.style.top =\n              e.offsetY -\n              iworkPhotoMagnifierWrapShowboxHoverbox.offsetHeight / 2 +\n              \"px\";\n          }\n          positionEnlargeImage(iworkPhotoMagnifierWrapShowboxHoverbox);\n        },\n        1\n      );\n    });\n\n    iworkPhotoMagnifierWrapShowbox.addEventListener(\"mouseout\", function(e) {\n      clearTimeout(iworkPhotoMagnifierWrapShowboxHoverboxMouseOutTimer);\n      iworkPhotoMagnifierWrapShowboxHoverboxMouseOutTimer = setTimeout(\n        function() {\n          // 让覆盖层消失\n          iworkPhotoMagnifierWrapShowboxHoverbox.style.display = \"none\";\n          // 让放大图片消失\n          iworkPhotoMagnifierWrapEnlargeShowbox.classList.remove(\n            \"iwork-photo-magnifier-wrap-enlarge-showbox-active\"\n          );\n        },\n        1\n      );\n    });\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.iwork-photo-magnifier-wrap {\n  position: relative;\n  display: inline-block;\n  font-size: 0;\n}\n.iwork-photo-magnifier-wrap > .iwork-photo-magnifier-wrap-showbox {\n  display: inline-block;\n  cursor: move;\n}\n.iwork-photo-magnifier-wrap > .iwork-photo-magnifier-wrap-showbox > img {\n  width: 400px;\n  height: 400px;\n}\n.iwork-photo-magnifier-wrap\n  > .iwork-photo-magnifier-wrap-showbox\n  > .iwork-photo-magnifier-wrap-showbox-hoverbox {\n  position: absolute;\n  display: none;\n  opacity: 0.3;\n  background: #09f;\n  z-index: 10;\n  pointer-events: none;\n}\n.iwork-photo-magnifier-wrap > .iwork-photo-magnifier-wrap-enlarge-showbox {\n  position: absolute;\n  display: none;\n  overflow: hidden;\n}\n.iwork-photo-magnifier-wrap\n  > .iwork-photo-magnifier-wrap-enlarge-showbox-active {\n  display: inline-block;\n}\n\n.iwork-photo-magnifier-wrap\n  > .iwork-photo-magnifier-wrap-enlarge-showbox\n  > img {\n  position: absolute;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iwork-picture-magnifier.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iwork-picture-magnifier.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./iwork-picture-magnifier.vue?vue&type=template&id=2e35ac02&scoped=true&\"\nimport script from \"./iwork-picture-magnifier.vue?vue&type=script&lang=js&\"\nexport * from \"./iwork-picture-magnifier.vue?vue&type=script&lang=js&\"\nimport style0 from \"./iwork-picture-magnifier.vue?vue&type=style&index=0&id=2e35ac02&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e35ac02\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iwork-picture-magnifier.vue?vue&type=style&index=0&id=2e35ac02&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iwork-picture-magnifier.vue?vue&type=style&index=0&id=2e35ac02&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/picture-magnifier.142d434e.jpg\";"],"sourceRoot":""}