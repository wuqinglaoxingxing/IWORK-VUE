(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68c446d1"],{"0cbe":function(t,e,r){var i=r("24fb"),a=r("1de5"),n=r("86f0");e=i(!1);var o=a(n);e.push([t.i,".img-intercep-wrap[data-v-8c5bb1f4]{display:flex;flex-direction:column;align-items:center;font-size:0}.img-intercep-wrap>.pic_wrapper[data-v-8c5bb1f4]{display:inline-block;overflow:hidden;cursor:move;position:relative;background:url("+o+")}.img-intercep-wrap>.pic_wrapper>img[data-v-8c5bb1f4]{position:absolute;z-index:1}.img-intercep-wrap>.pic_wrapper>.pic_show[data-v-8c5bb1f4]{left:0;top:0;position:absolute;z-index:2;pointer-events:none}.img-intercep-wrap>.btn_list[data-v-8c5bb1f4]{margin:.03rem auto;display:flex;font-size:.14rem;height:.32rem}.img-intercep-wrap>.btn_list>button[data-v-8c5bb1f4]{flex:1;border:none;outline:none;color:#333}.img-intercep-wrap>.btn_list>.translate[data-v-8c5bb1f4]{border-right:1px solid #ddd;background:var(--first)}.img-intercep-wrap>.btn_list>.reset[data-v-8c5bb1f4]{background:var(--second)}",""]),t.exports=e},1148:function(t,e,r){"use strict";var i=r("a691"),a=r("1d80");t.exports="".repeat||function(t){var e=String(a(this)),r="",n=i(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(r+=e);return r}},"157b":function(t,e,r){t.exports=r.p+"img/img-intercep.f8e9497a.jpg"},"35a8":function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("iworkImgIntercep",{attrs:{picture:t.T1.picture,wrapWidth:t.T1.wrapWidth,edgeMax:t.T1.edgeMax,getExtractImg:t.T1.getExtractImg}}),r("div",{staticClass:"iworkImgIntercep-P"},[r("iworkImgIntercep",{attrs:{picture:t.T2.picture,selector:t.T2.selector,wrapWidth:t.T2.wrapWidth,edgeMax:t.T2.edgeMax,getExtractImg:t.T2.getExtractImg,enLarge:t.T2.enLarge,enSmall:t.T2.enSmall,sAreaTp:t.T2.sAreaTp,wRectUnitNum:t.T2.wRectUnitNum}})],1)],1)},a=[],n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"img-intercep-wrap iwork-img-intercep"},[r("div",{staticClass:"pic_wrapper"},[r("img",{attrs:{src:t.picture}}),r("canvas",{staticClass:"pic_show"})]),r("div",{staticClass:"btn_list",style:{width:t.wrapWidth+"px"}},[r("button",{staticClass:"translate"},[t._v("截取")]),r("button",{staticClass:"reset"},[t._v("重置")])]),r("canvas",{staticClass:"pic_draw"})])},o=[],s=(r("cb29"),r("a9e3"),r("b680"),{name:"iworkImgIntercep",props:{picture:{required:!0},wrapWidth:{type:Number,default:500},bSRate:{type:Number,default:4},edgeMax:{type:Number,default:10},getExtractImg:{type:Function},enLarge:{type:Number,default:2},enSmall:{type:Number,default:2},sAreaTp:{type:String,default:"circle"},selector:{type:String},wRectUnitNum:{type:Number,default:8}},data:function(){return{}},mounted:function(){var t,e,r,i,a,n,o,s,c=this;this.selector&&(t=null===(s=document.querySelector(this.selector))||void 0===s?void 0:s.querySelector(".img-intercep-wrap"));t||(t=document.querySelector(".img-intercep-wrap")),e=t.querySelector(".pic_wrapper"),r=e.querySelector("img"),n=t.querySelector(".translate"),o=t.querySelector(".reset"),i=e.querySelector(".pic_show"),a=i.getContext("2d");var l,p,d,u,g,h,w,f,m,b,v,A,x,y=1,I=this.wRectUnitNum;r.onload=function(){l=r.width,p=r.height,x=parseFloat((l/p).toFixed(3)),m=parseInt(r.height/r.width*c.wrapWidth),g=c.wrapWidth*c.enLarge,h=m*c.enLarge,w=c.wrapWidth/c.enSmall,f=m/c.enSmall,r.width=c.wrapWidth,r.height=m,e.style.width=c.wrapWidth+"px",e.style.height=m+"px",i.width=c.wrapWidth,i.height=m,r.style.width=r.width+"px",r.style.height=r.height+"px",r.style.top=0,r.style.left=0,a.beginPath(),a.fillStyle="rgba(255,255,255,.3)","rect"===c.sAreaTp&&(v=c.wrapWidth/I,A=m/I,a.fillRect(v,A,(I-2)*v,(I-2)*A)),"circle"===c.sAreaTp&&(b=c.wrapWidth>m?m:c.wrapWidth,a.arc(c.wrapWidth/2,m/2,b/2,0,Math.PI/180*360,!1)),a.fill()};var W=function(t){t.preventDefault(),e.removeEventListener("mousemove",E),r.addEventListener("mousemove",E),d=t.clientX-e.offsetLeft-parseInt(r.style.left?r.style.left:0),u=t.clientY-e.offsetTop-parseInt(r.style.top?r.style.top:0)},M=function(t){r.removeEventListener("mousemove",E)},S=function(t){r.removeEventListener("mousemove",E)},T=function(t){t.preventDefault(),t.stopPropagation();var e=t.wheelDelta,i=Math.abs(e)/120;i=i<1?1:i;var a,n,o=c.os().isMac,s=r.getAttribute("attrW")?parseFloat(r.getAttribute("attrW")):r.width,l=r.getAttribute("attrH")?parseFloat(r.getAttribute("attrH")):r.height;if(e>0&&o||!o&&e<0){var p=s-i*x*c.bSRate,d=l-i*y*c.bSRate;a=p>w?p:w,n=d>f?d:f}else{var u=s+i*x*c.bSRate,m=l+i*y*c.bSRate;a=u<g?u:g,n=m<h?m:h}r.style.width=a+"px",r.style.height=n+"px",r.setAttribute("attrW",a),r.setAttribute("attrH",n)},E=function(t){t.preventDefault();var i=e.getBoundingClientRect(),a=i.width,n=i.height,o=t.clientX-e.offsetLeft,s=t.clientY-e.offsetTop,l=o-d,p=s-u;a-l<c.edgeMax?l=a-c.edgeMax:l+r.width<c.edgeMax&&(l=c.edgeMax-r.width),n-p<c.edgeMax?p=n-c.edgeMax:p+r.height<c.edgeMax&&(p=c.edgeMax-r.height),r.style.left=l+"px",r.style.top=p+"px"};r.addEventListener("mousedown",W),r.addEventListener("mouseleave",S),r.addEventListener("mouseup",M),e.addEventListener("mousewheel",T),n.addEventListener("click",(function(){r.style.width,r.style.height;var e=r.style.top,i=r.style.left,a=l/r.width,n=p/r.height,o=t.querySelector(".pic_draw"),s=o.getContext("2d");"circle"===c.sAreaTp&&(o.width=b,o.height=b,s.arc(b/2,b/2,b/2,0,Math.PI/180*360,!1),s.strokeStyle="#FFFFFF",s.stroke(),s.clip(),s.drawImage(r,(c.wrapWidth/2-b/2-parseInt(i))*a,(m/2-b/2-parseInt(e))*n,b*a,b*n,0,0,b,b)),"rect"===c.sAreaTp&&(o.width=(I-2)*v,o.height=(I-2)*A,s.drawImage(r,(c.wrapWidth/I-parseInt(i))*a,(-parseInt(e)+A)*n+2,(I-2)*v*a,(I-2)*A*n,0,0,(I-2)*v,(I-2)*A)),c.getExtractImg(o.toDataURL("image/png"))}),!1),o.addEventListener("click",(function(){r.style.width=c.wrapWidth+"px",r.style.height=m+"px",r.style.left=0,r.style.top=0,r.removeAttribute("attrW"),r.removeAttribute("attrH")}),!1)},methods:{os:function(){var t=window.navigator.userAgent.toLowerCase();return{isIpad:/ipad/.test(t),isIphone:/iphone os/.test(t),isAndroid:/android/.test(t),isWindowsCe:/windows ce/.test(t),isWindowsMobile:/windows mobile/.test(t),isWin2K:/windows nt 5.0/.test(t),isXP:/windows nt 5.1/.test(t),isVista:/windows nt 6.0/.test(t),isWin7:/windows nt 6.1/.test(t),isWin8:/windows nt 6.2/.test(t),isWin81:/windows nt 6.3/.test(t),isMac:/mac os/.test(t)}}}}),c=s,l=(r("80d1"),r("2877")),p=Object(l["a"])(c,n,o,!1,null,"8c5bb1f4",null),d=p.exports,u={components:{iworkImgIntercep:d},data:function(){return{T1:{picture:r("157b"),wrapWidth:500,edgeMax:10,getExtractImg:function(t){console.log(t)}},T2:{picture:r("67c9"),selector:".iworkImgIntercep-P",wrapWidth:500,edgeMax:10,getExtractImg:function(t){console.log(t)},enLarge:3,enSmall:6,sAreaTp:"rect",wRectUnitNum:8}}},created:function(){}},g=u,h=Object(l["a"])(g,i,a,!1,null,null,null);e["default"]=h.exports},"408a":function(t,e,r){var i=r("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},"67c9":function(t,e,r){t.exports=r.p+"img/picture-magnifier-car.349ff52e.jpg"},"67ec":function(t,e,r){var i=r("0cbe");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=r("499e").default;a("c0578e00",i,!0,{sourceMap:!1,shadowMode:!1})},"80d1":function(t,e,r){"use strict";var i=r("67ec"),a=r.n(i);a.a},"81d5":function(t,e,r){"use strict";var i=r("7b0b"),a=r("23cb"),n=r("50c4");t.exports=function(t){var e=i(this),r=n(e.length),o=arguments.length,s=a(o>1?arguments[1]:void 0,r),c=o>2?arguments[2]:void 0,l=void 0===c?r:a(c,r);while(l>s)e[s++]=t;return e}},"86f0":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC"},b680:function(t,e,r){"use strict";var i=r("23e7"),a=r("a691"),n=r("408a"),o=r("1148"),s=r("d039"),c=1..toFixed,l=Math.floor,p=function(t,e,r){return 0===e?r:e%2===1?p(t,e-1,r*t):p(t*t,e/2,r)},d=function(t){var e=0,r=t;while(r>=4096)e+=12,r/=4096;while(r>=2)e+=1,r/=2;return e},u=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){c.call({})}));i({target:"Number",proto:!0,forced:u},{toFixed:function(t){var e,r,i,s,c=n(this),u=a(t),g=[0,0,0,0,0,0],h="",w="0",f=function(t,e){var r=-1,i=e;while(++r<6)i+=t*g[r],g[r]=i%1e7,i=l(i/1e7)},m=function(t){var e=6,r=0;while(--e>=0)r+=g[e],g[e]=l(r/t),r=r%t*1e7},b=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==g[t]){var r=String(g[t]);e=""===e?r:e+o.call("0",7-r.length)+r}return e};if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(h="-",c=-c),c>1e-21)if(e=d(c*p(2,69,1))-69,r=e<0?c*p(2,-e,1):c/p(2,e,1),r*=4503599627370496,e=52-e,e>0){f(0,r),i=u;while(i>=7)f(1e7,0),i-=7;f(p(10,i,1),0),i=e-1;while(i>=23)m(1<<23),i-=23;m(1<<i),f(1,1),m(2),w=b()}else f(0,r),f(1<<-e,0),w=b()+o.call("0",u);return u>0?(s=w.length,w=h+(s<=u?"0."+o.call("0",u-s)+w:w.slice(0,s-u)+"."+w.slice(s-u))):w=h+w,w}})},cb29:function(t,e,r){var i=r("23e7"),a=r("81d5"),n=r("44d2");i({target:"Array",proto:!0},{fill:a}),n("fill")}}]);
//# sourceMappingURL=chunk-68c446d1.3ec58b17.js.map