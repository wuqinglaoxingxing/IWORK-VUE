{"version":3,"sources":["webpack:///./src/assets/img-intercep.jpg","webpack:///./src/components-views/iwork-img-intercep.vue?6867","webpack:///./src/components/iwork-img-intercep.vue?8e77","webpack:///src/components/iwork-img-intercep.vue","webpack:///./src/components/iwork-img-intercep.vue?1005","webpack:///./src/components/iwork-img-intercep.vue","webpack:///src/components-views/iwork-img-intercep.vue","webpack:///./src/components-views/iwork-img-intercep.vue?0316","webpack:///./src/components-views/iwork-img-intercep.vue","webpack:///./src/assets/picture-magnifier-car.jpg","webpack:///./node_modules/core-js/internals/array-fill.js","webpack:///./src/assets/touming.png","webpack:///./src/components/iwork-img-intercep.vue?2ae8","webpack:///./src/components/iwork-img-intercep.vue?cdce","webpack:///./node_modules/core-js/modules/es.array.fill.js","webpack:///./src/components/iwork-img-intercep.vue?df78"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","attrs","T1","picture","wrapWidth","edgeMax","computedUnitX","computedUnitY","getExtractImg","staticClass","T2","selector","enLarge","enSmall","sAreaTp","wRectUnitNum","staticRenderFns","style","width","_v","component","toObject","toAbsoluteIndex","toLength","value","O","length","argumentsLength","arguments","index","undefined","end","endPos","___CSS_LOADER_API_IMPORT___","___CSS_LOADER_GET_URL_IMPORT___","___CSS_LOADER_URL_IMPORT_0___","___CSS_LOADER_URL_REPLACEMENT_0___","push","i","$","fill","addToUnscopables","target","proto","content","locals","add","default"],"mappings":"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","file":"js/chunk-3ad2e5f9.0ba4f266.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/img-intercep.f8e9497a.jpg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('iworkImgIntercep',{attrs:{\"picture\":_vm.T1.picture,\"wrapWidth\":_vm.T1.wrapWidth,\"edgeMax\":_vm.T1.edgeMax,\"computedUnitX\":_vm.T1.computedUnitX,\"computedUnitY\":_vm.T1.computedUnitY,\"getExtractImg\":_vm.T1.getExtractImg}}),_c('div',{staticClass:\"iworkImgIntercep-P\"},[_c('iworkImgIntercep',{attrs:{\"picture\":_vm.T2.picture,\"selector\":_vm.T2.selector,\"wrapWidth\":_vm.T2.wrapWidth,\"edgeMax\":_vm.T2.edgeMax,\"computedUnitX\":_vm.T2.computedUnitX,\"computedUnitY\":_vm.T2.computedUnitY,\"getExtractImg\":_vm.T2.getExtractImg,\"enLarge\":_vm.T2.enLarge,\"enSmall\":_vm.T2.enSmall,\"sAreaTp\":_vm.T2.sAreaTp,\"wRectUnitNum\":_vm.T2.wRectUnitNum}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"img-intercep-wrap iwork-img-intercep\"},[_c('div',{staticClass:\"pic_wrapper\"},[_c('img',{attrs:{\"src\":_vm.picture}}),_c('canvas',{staticClass:\"pic_show\"})]),_c('div',{staticClass:\"btn_list\",style:({width:_vm.wrapWidth+'px'})},[_c('button',{staticClass:\"translate\"},[_vm._v(\"截取\")]),_c('button',{staticClass:\"reset\"},[_vm._v(\"重置\")])]),_c('canvas',{staticClass:\"pic_draw\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"img-intercep-wrap iwork-img-intercep\">\r\n        <div class=\"pic_wrapper\">\r\n            <img :src=\"picture\" />\r\n            <canvas class=\"pic_show\"></canvas>\r\n        </div>\r\n        <div class=\"btn_list\" :style=\"{width:wrapWidth+'px'}\">\r\n            <button class=\"translate\">截取</button>\r\n            <button class=\"reset\">重置</button>\r\n        </div>\r\n        <canvas class=\"pic_draw\"></canvas>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"iworkImgIntercep\",\r\n    props: {\r\n        // 图片\r\n        picture: {\r\n            required: true,\r\n        },\r\n        // 图片显示宽度\r\n        wrapWidth: {\r\n            type: Number,\r\n            default: 500,\r\n        },\r\n        // 放大缩小单位X轴\r\n        computedUnitX: {\r\n            type: Number,\r\n            default: 6,\r\n        },\r\n        // 放大缩小单位Y轴\r\n        computedUnitY: {\r\n            type: Number,\r\n            default: 6,\r\n        },\r\n        // 可以移动到边缘的最大值\r\n        edgeMax: {\r\n            type: Number,\r\n            default: 10,\r\n        },\r\n        // 返回的截取的base64\r\n        getExtractImg: {\r\n            type: Function,\r\n        },\r\n        // 放大倍数\r\n        enLarge: {\r\n            type: Number,\r\n            default: 2,\r\n        },\r\n        // 缩小倍数\r\n        enSmall: {\r\n            type: Number,\r\n            default: 2,\r\n        },\r\n        // 选择区域\r\n        sAreaTp:{\r\n            type: String,\r\n            default: \"circle\" //circle:圆形 rect:矩形\r\n        },\r\n        // 针对多个组件共同使用需要设定父选择器\r\n        selector:{\r\n            type:String\r\n        },\r\n        // 计算的矩形区域占比\r\n        wRectUnitNum:{\r\n            type: Number,\r\n            default: 8,\r\n        }\r\n    },\r\n    data() {\r\n        return {};\r\n    },\r\n    mounted() {\r\n        let that = this;\r\n        let imgIntercepWrap, //最外层\r\n            pic_wrapper, //图片层--包含canvas遮罩和图片显示\r\n            img, //显示图片\r\n            pic_show, //画布\r\n            ctx,//画布上下文\r\n            translate, //截取按钮\r\n            reset; //重置按钮\r\n            \r\n        // 表示提供了父级选择器,更加精确\r\n        if(this.selector){\r\n            imgIntercepWrap = document.querySelector(this.selector)?.querySelector(\".img-intercep-wrap\");\r\n        }\r\n        // 确保一定有最外层对象\r\n        if(!imgIntercepWrap){\r\n            imgIntercepWrap = document.querySelector(\".img-intercep-wrap\");\r\n        }\r\n        pic_wrapper = imgIntercepWrap.querySelector(\".pic_wrapper\");\r\n        img = pic_wrapper.querySelector(\"img\");\r\n        translate = imgIntercepWrap.querySelector(\".translate\");\r\n        reset = imgIntercepWrap.querySelector(\".reset\");\r\n        /** @type {HTMLCanvasElement} */\r\n        pic_show = pic_wrapper.querySelector(\".pic_show\");\r\n        ctx = pic_show.getContext(\"2d\");\r\n\r\n        let initWidth,//导入图片的宽\r\n            initHeight,//导入图片的高\r\n            disXO, //移动x轴距离\r\n            disYO, //移动y轴距离\r\n            maxWidth, //放大最大宽度\r\n            maxHeight, //放大最大高度\r\n            minWidth, //缩小最大宽度\r\n            minHeight, //缩小最大高度\r\n            wrapHeight, //通过宽度计算显示的高度\r\n            wrapCircleR, //计算的截取圆区域半径\r\n            wRectUnitX, //计算的矩形的x轴单位\r\n            wRectUnitY, //计算的矩形的y轴单位\r\n            wRectUnitNum=this.wRectUnitNum; //计算的矩形区域占比\r\n        \r\n        img.onload = function () {\r\n            initWidth = img.width;\r\n            initHeight = img.height;\r\n\r\n            wrapHeight = parseInt((img.height / img.width) * that.wrapWidth);\r\n            maxWidth = that.wrapWidth * that.enLarge;\r\n            maxHeight = wrapHeight * that.enLarge;\r\n            minWidth = that.wrapWidth / that.enSmall;\r\n            minHeight = wrapHeight / that.enSmall;\r\n\r\n            img.width = that.wrapWidth;\r\n            img.height = wrapHeight;\r\n\r\n            pic_wrapper.style.width = that.wrapWidth + \"px\";\r\n            pic_wrapper.style.height = wrapHeight + \"px\";\r\n            pic_show.width = that.wrapWidth;\r\n            pic_show.height = wrapHeight;\r\n            // 初始化设置\r\n            img.style.width = img.width + \"px\";\r\n            img.style.height = img.height + \"px\";\r\n            img.style.top = 0;\r\n            img.style.left = 0;\r\n\r\n            ctx.beginPath();\r\n            ctx.fillStyle = \"rgba(255,255,255,.3)\";\r\n            /*矩形代码*/\r\n            if(that.sAreaTp===\"rect\"){\r\n                wRectUnitX = that.wrapWidth / wRectUnitNum;\r\n                wRectUnitY = wrapHeight / wRectUnitNum;\r\n                ctx.fillRect(wRectUnitX, wRectUnitY, (wRectUnitNum-2) * wRectUnitX, (wRectUnitNum-2) * wRectUnitY);\r\n            }\r\n            /*矩形代码*/\r\n            /*圆形代码*/\r\n            if(that.sAreaTp===\"circle\"){\r\n                wrapCircleR=that.wrapWidth>wrapHeight?wrapHeight:that.wrapWidth\r\n                ctx.arc(\r\n                    that.wrapWidth / 2,\r\n                    wrapHeight / 2,\r\n                    wrapCircleR / 2,\r\n                    0,\r\n                    (Math.PI / 180) * 360,\r\n                    false\r\n                );\r\n            }\r\n            /*圆形代码*/\r\n            ctx.fill();\r\n        };\r\n\r\n        let mousedownFn = function (e) {\r\n            e.preventDefault();\r\n            // 针对移速过快导致拖拽物脱离鼠标问题\r\n            pic_wrapper.removeEventListener(\"mousemove\", mousemoveFn);\r\n            img.addEventListener(\"mousemove\", mousemoveFn);\r\n            disXO =\r\n                e.clientX -\r\n                pic_wrapper.offsetLeft -\r\n                parseInt(img.style.left ? img.style.left : 0);\r\n            disYO =\r\n                e.clientY -\r\n                pic_wrapper.offsetTop -\r\n                parseInt(img.style.top ? img.style.top : 0);\r\n        };\r\n        let mouseupFn = function (e) {\r\n            img.removeEventListener(\"mousemove\", mousemoveFn);\r\n        };\r\n        let mouseleaveFn = function (e) {\r\n            img.removeEventListener(\"mousemove\", mousemoveFn);\r\n        };\r\n        let mousewheelFn = function (e) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            let wheelDelta = e.wheelDelta;\r\n            let lv = Math.abs(wheelDelta) / 120;\r\n            // 保证放大倍数\r\n            lv = lv < 1 ? 1 : lv;\r\n            // 获取是否为mac\r\n            const osMac = that.os().isMac;\r\n            let attrWidth,attrHeight;\r\n            // 利用属性，防止小数\r\n            let imgWidth = img.getAttribute(\"attrW\")? parseFloat(img.getAttribute(\"attrW\")):img.width\r\n            let imgHeight = img.getAttribute(\"attrH\")? parseFloat(img.getAttribute(\"attrH\")):img.height\r\n            if ((wheelDelta > 0 && osMac) || (!osMac && wheelDelta < 0)) {\r\n                let newWidth =  imgWidth - lv * that.computedUnitX;\r\n                let newHeight = imgHeight - lv * that.computedUnitY;\r\n                // 获取宽度,高度，将其设置到属性上\r\n                attrWidth = newWidth > minWidth ?newWidth:minWidth\r\n                attrHeight = newHeight > minHeight?newHeight:minHeight\r\n            } else {\r\n                let newWidth = imgWidth + lv * that.computedUnitX;\r\n                let newHeight = imgHeight + lv * that.computedUnitY;\r\n                // 获取宽度,高度，将其设置到属性上\r\n                attrWidth = newWidth < maxWidth?newWidth:maxWidth\r\n                attrHeight = newHeight < maxHeight?newHeight:maxHeight\r\n            }\r\n            img.style.width = attrWidth + \"px\";\r\n            img.style.height = attrHeight + \"px\";\r\n            img.setAttribute(\"attrW\",attrWidth)\r\n            img.setAttribute(\"attrH\",attrHeight)\r\n        };\r\n        let mousemoveFn = function (e) {\r\n            e.preventDefault();\r\n            let { width: wWidth, height: wHeight } =\r\n                pic_wrapper.getBoundingClientRect();\r\n            let disXT = e.clientX - pic_wrapper.offsetLeft;\r\n            let disYT = e.clientY - pic_wrapper.offsetTop;\r\n            let disX = disXT - disXO;\r\n            let disY = disYT - disYO;\r\n            // -10可以移动到边缘的最大值\r\n            if (wWidth - disX < that.edgeMax) {\r\n                disX = wWidth - that.edgeMax;\r\n            } else if (disX + img.width < that.edgeMax) {\r\n                disX = that.edgeMax - img.width;\r\n            }\r\n            // -10可以移动到边缘的最大值\r\n            if (wHeight - disY < that.edgeMax) {\r\n                disY = wHeight - that.edgeMax;\r\n            } else if (disY + img.height < that.edgeMax) {\r\n                disY = that.edgeMax - img.height;\r\n            }\r\n            img.style.left = disX + \"px\";\r\n            img.style.top = disY + \"px\";\r\n        };\r\n        img.addEventListener(\"mousedown\", mousedownFn);\r\n        img.addEventListener(\"mouseleave\", mouseleaveFn);\r\n        img.addEventListener(\"mouseup\", mouseupFn);\r\n        pic_wrapper.addEventListener(\"mousewheel\", mousewheelFn);\r\n        translate.addEventListener(\r\n            \"click\",\r\n            function () {\r\n                const width = img.style.width;\r\n                const height = img.style.height;\r\n                const top = img.style.top;\r\n                const left = img.style.left;\r\n                const lvW = initWidth / img.width;\r\n                const lvH = initHeight / img.height;  \r\n\r\n                let pic_draw = imgIntercepWrap.querySelector(\".pic_draw\");\r\n                let ctx1 = pic_draw.getContext(\"2d\");\r\n                /*圆形代码*/\r\n                if(that.sAreaTp===\"circle\"){\r\n                    pic_draw.width = wrapCircleR;\r\n                    pic_draw.height = wrapCircleR;\r\n                    ctx1.arc(\r\n                        wrapCircleR / 2,\r\n                        wrapCircleR / 2,\r\n                        wrapCircleR / 2,\r\n                        0,\r\n                        (Math.PI / 180) * 360,\r\n                        false\r\n                    );\r\n                    ctx1.strokeStyle = \"#FFFFFF\"; // 设置绘制圆形边框的颜色\r\n                    ctx1.stroke(); // 绘制出圆形，默认为黑色，可通过 ctx.strokeStyle = '#FFFFFF'， 设置想要的颜色\r\n                    ctx1.clip();\r\n                    // 核心计算画的区域\r\n                    ctx1.drawImage(\r\n                        img,\r\n                        (that.wrapWidth / 2 - wrapCircleR / 2 - parseInt(left)) * lvW,\r\n                        (wrapHeight/2 - wrapCircleR/2 - parseInt(top)) * lvH,\r\n                        wrapCircleR * lvW,\r\n                        wrapCircleR * lvH,\r\n                        0,\r\n                        0,\r\n                        wrapCircleR,\r\n                        wrapCircleR\r\n                    );\r\n                }\r\n                /*圆形代码*/\r\n                /*矩形代码*/\r\n                if(that.sAreaTp===\"rect\"){\r\n                    pic_draw.width = (wRectUnitNum-2)*wRectUnitX;\r\n                    pic_draw.height = (wRectUnitNum-2)*wRectUnitY;\r\n                    ctx1.drawImage(\r\n                        img,\r\n                        (that.wrapWidth / wRectUnitNum - parseInt(left)) *\r\n                            lvW,\r\n                        (-parseInt(top) +wRectUnitY) * lvH+2,\r\n                        (wRectUnitNum-2)*wRectUnitX * lvW,\r\n                        (wRectUnitNum-2)*wRectUnitY * lvH,\r\n                        0,\r\n                        0,\r\n                        (wRectUnitNum-2)*wRectUnitX,\r\n                        (wRectUnitNum-2)*wRectUnitY\r\n                    );\r\n                }\r\n                /*矩形代码*/\r\n                that.getExtractImg(pic_draw.toDataURL(\"image/png\"));\r\n            },\r\n            false\r\n        );\r\n        reset.addEventListener(\r\n            \"click\",\r\n            function () {\r\n                img.style.width = that.wrapWidth + \"px\";\r\n                img.style.height = wrapHeight + \"px\";\r\n                img.style.left = 0;\r\n                img.style.top = 0;\r\n                img.removeAttribute(\"attrW\")\r\n                img.removeAttribute(\"attrH\")\r\n            },\r\n            false\r\n        );\r\n    },\r\n    methods: {\r\n        os() {\r\n            let UserAgent = window.navigator.userAgent.toLowerCase();\r\n            return {\r\n                isIpad: /ipad/.test(UserAgent),\r\n                isIphone: /iphone os/.test(UserAgent),\r\n                isAndroid: /android/.test(UserAgent),\r\n                isWindowsCe: /windows ce/.test(UserAgent),\r\n                isWindowsMobile: /windows mobile/.test(UserAgent),\r\n                isWin2K: /windows nt 5.0/.test(UserAgent),\r\n                isXP: /windows nt 5.1/.test(UserAgent),\r\n                isVista: /windows nt 6.0/.test(UserAgent),\r\n                isWin7: /windows nt 6.1/.test(UserAgent),\r\n                isWin8: /windows nt 6.2/.test(UserAgent),\r\n                isWin81: /windows nt 6.3/.test(UserAgent),\r\n                isMac: /mac os/.test(UserAgent),\r\n            };\r\n        },\r\n    },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.img-intercep-wrap {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    font-size: 0;\r\n    & > .pic_wrapper {\r\n        display: inline-block;\r\n        overflow: hidden;\r\n        cursor: move;\r\n        position: relative;\r\n        background: url(../assets/touming.png);\r\n        & > img {\r\n            position: absolute;\r\n            z-index: 1;\r\n        }\r\n\r\n        & > .pic_show {\r\n            left: 0;\r\n            top: 0;\r\n            position: absolute;\r\n            z-index: 2;\r\n            pointer-events: none;\r\n        }\r\n    }\r\n\r\n    & > .btn_list {\r\n        margin: 0.03rem auto;\r\n        display: flex;\r\n        font-size: 0.14rem;\r\n        & > button {\r\n            flex: 1;\r\n            border: none;\r\n            outline: none;\r\n        }\r\n        & > .translate {\r\n            border-right: 1px #ddd solid;\r\n            background: var(--first);\r\n        }\r\n        & > .reset {\r\n            background: var(--second);\r\n        }\r\n    }\r\n\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iwork-img-intercep.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iwork-img-intercep.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./iwork-img-intercep.vue?vue&type=template&id=030d91e5&scoped=true&\"\nimport script from \"./iwork-img-intercep.vue?vue&type=script&lang=js&\"\nexport * from \"./iwork-img-intercep.vue?vue&type=script&lang=js&\"\nimport style0 from \"./iwork-img-intercep.vue?vue&type=style&index=0&id=030d91e5&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"030d91e5\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n        <iworkImgIntercep\r\n            :picture=\"T1.picture\"\r\n            :wrapWidth=\"T1.wrapWidth\"\r\n            :edgeMax=\"T1.edgeMax\"\r\n            :computedUnitX=\"T1.computedUnitX\"\r\n            :computedUnitY=\"T1.computedUnitY\"\r\n            :getExtractImg=\"T1.getExtractImg\"\r\n        ></iworkImgIntercep>\r\n        <div class=\"iworkImgIntercep-P\">\r\n            <iworkImgIntercep\r\n                :picture=\"T2.picture\"\r\n                :selector=\"T2.selector\"\r\n                :wrapWidth=\"T2.wrapWidth\"\r\n                :edgeMax=\"T2.edgeMax\"\r\n                :computedUnitX=\"T2.computedUnitX\"\r\n                :computedUnitY=\"T2.computedUnitY\"\r\n                :getExtractImg=\"T2.getExtractImg\"\r\n                :enLarge=\"T2.enLarge\"\r\n                :enSmall=\"T2.enSmall\"\r\n                :sAreaTp=\"T2.sAreaTp\"\r\n                :wRectUnitNum=\"T2.wRectUnitNum\"\r\n            ></iworkImgIntercep>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport iworkImgIntercep from \"@/components/iwork-img-intercep.vue\";\r\nexport default {\r\n    components: {\r\n        iworkImgIntercep,\r\n    },\r\n    data() {\r\n        return {\r\n           T1:{\r\n                picture: require(\"../assets/img-intercep.jpg\"),\r\n                wrapWidth:500,\r\n                computedUnitX:7,\r\n                computedUnitY:4,\r\n                edgeMax:10,\r\n                getExtractImg:function(imgBase64){\r\n                    console.log(imgBase64);\r\n                }\r\n           },\r\n           T2:{\r\n                picture: require(\"../assets/picture-magnifier-car.jpg\"),\r\n                selector:\".iworkImgIntercep-P\",\r\n                wrapWidth:500,\r\n                computedUnitX:4.62,\r\n                computedUnitY:10,\r\n                edgeMax:10,\r\n                getExtractImg:function(imgBase64){\r\n                    console.log(imgBase64);\r\n                },\r\n                enLarge:3,\r\n                enSmall:6,\r\n                sAreaTp:\"rect\",\r\n                wRectUnitNum:8\r\n                        \r\n                        \r\n           }\r\n        };\r\n    },\r\n    created() {},\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iwork-img-intercep.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iwork-img-intercep.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./iwork-img-intercep.vue?vue&type=template&id=1603576c&\"\nimport script from \"./iwork-img-intercep.vue?vue&type=script&lang=js&\"\nexport * from \"./iwork-img-intercep.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/picture-magnifier-car.349ff52e.jpg\";","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../assets/touming.png\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\nexports.push([module.id, \".img-intercep-wrap[data-v-030d91e5]{display:flex;flex-direction:column;align-items:center;font-size:0}.img-intercep-wrap>.pic_wrapper[data-v-030d91e5]{display:inline-block;overflow:hidden;cursor:move;position:relative;background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \")}.img-intercep-wrap>.pic_wrapper>img[data-v-030d91e5]{position:absolute;z-index:1}.img-intercep-wrap>.pic_wrapper>.pic_show[data-v-030d91e5]{left:0;top:0;position:absolute;z-index:2;pointer-events:none}.img-intercep-wrap>.btn_list[data-v-030d91e5]{margin:.03rem auto;display:flex;font-size:.14rem}.img-intercep-wrap>.btn_list>button[data-v-030d91e5]{flex:1;border:none;outline:none}.img-intercep-wrap>.btn_list>.translate[data-v-030d91e5]{border-right:1px solid #ddd;background:var(--first)}.img-intercep-wrap>.btn_list>.reset[data-v-030d91e5]{background:var(--second)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iwork-img-intercep.vue?vue&type=style&index=0&id=030d91e5&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iwork-img-intercep.vue?vue&type=style&index=0&id=030d91e5&lang=scss&scoped=true&\"","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iwork-img-intercep.vue?vue&type=style&index=0&id=030d91e5&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"77aacb56\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"sourceRoot":""}