{"version":3,"sources":["webpack:///./src/assets/img-intercep.jpg","webpack:///./src/components-views/iwork-img-intercep.vue?9b05","webpack:///./src/components/iwork-img-intercep.vue?a09f","webpack:///src/components/iwork-img-intercep.vue","webpack:///./src/components/iwork-img-intercep.vue?1005","webpack:///./src/components/iwork-img-intercep.vue","webpack:///src/components-views/iwork-img-intercep.vue","webpack:///./src/components-views/iwork-img-intercep.vue?0316","webpack:///./src/components-views/iwork-img-intercep.vue","webpack:///./src/assets/picture-magnifier-car.jpg","webpack:///./src/components/iwork-img-intercep.vue?667f","webpack:///./node_modules/core-js/internals/array-fill.js","webpack:///./src/assets/touming.png","webpack:///./node_modules/core-js/modules/es.array.fill.js","webpack:///./src/components/iwork-img-intercep.vue?ec4d","webpack:///./src/components/iwork-img-intercep.vue?49cf"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","attrs","T1","picture","wrapWidth","edgeMax","computedUnitX","computedUnitY","getExtractImg","staticClass","T2","selector","enLarge","enSmall","sAreaTp","wRectUnitNum","staticRenderFns","style","width","_v","component","___CSS_LOADER_API_IMPORT___","___CSS_LOADER_GET_URL_IMPORT___","___CSS_LOADER_URL_IMPORT_0___","___CSS_LOADER_URL_REPLACEMENT_0___","push","i","toObject","toAbsoluteIndex","toLength","value","O","length","argumentsLength","arguments","index","undefined","end","endPos","$","fill","addToUnscopables","target","proto","content","locals","add","default"],"mappings":"qGAAAA,EAAOC,QAAU,IAA0B,iC,2CCA3C,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,mBAAmB,CAACE,MAAM,CAAC,QAAUN,EAAIO,GAAGC,QAAQ,UAAYR,EAAIO,GAAGE,UAAU,QAAUT,EAAIO,GAAGG,QAAQ,cAAgBV,EAAIO,GAAGI,cAAc,cAAgBX,EAAIO,GAAGK,cAAc,cAAgBZ,EAAIO,GAAGM,iBAAiBT,EAAG,MAAM,CAACU,YAAY,sBAAsB,CAACV,EAAG,mBAAmB,CAACE,MAAM,CAAC,QAAUN,EAAIe,GAAGP,QAAQ,SAAWR,EAAIe,GAAGC,SAAS,UAAYhB,EAAIe,GAAGN,UAAU,QAAUT,EAAIe,GAAGL,QAAQ,cAAgBV,EAAIe,GAAGJ,cAAc,cAAgBX,EAAIe,GAAGH,cAAc,cAAgBZ,EAAIe,GAAGF,cAAc,QAAUb,EAAIe,GAAGE,QAAQ,QAAUjB,EAAIe,GAAGG,QAAQ,QAAUlB,EAAIe,GAAGI,QAAQ,aAAenB,EAAIe,GAAGK,iBAAiB,IAAI,IAC/tBC,EAAkB,GCDlB,EAAS,WAAa,IAAIrB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACU,YAAY,wCAAwC,CAACV,EAAG,MAAM,CAACU,YAAY,eAAe,CAACV,EAAG,MAAM,CAACE,MAAM,CAAC,IAAMN,EAAIQ,WAAWJ,EAAG,SAAS,CAACU,YAAY,eAAeV,EAAG,MAAM,CAACU,YAAY,WAAWQ,MAAM,CAAEC,MAAMvB,EAAIS,UAAU,OAAQ,CAACL,EAAG,SAAS,CAACU,YAAY,aAAa,CAACd,EAAIwB,GAAG,QAAQpB,EAAG,SAAS,CAACU,YAAY,SAAS,CAACd,EAAIwB,GAAG,UAAUpB,EAAG,SAAS,CAACU,YAAY,gBACxd,EAAkB,GCctB,G,oBAAA,CACE,KAAF,mBACE,MAAF,CAEI,QAAJ,CACM,UAAN,GAGI,UAAJ,CACM,KAAN,OACM,QAAN,KAGI,cAAJ,CACM,KAAN,OACM,QAAN,GAGI,cAAJ,CACM,KAAN,OACM,QAAN,GAGI,QAAJ,CACM,KAAN,OACM,QAAN,IAGI,cAAJ,CACM,KAAN,UAGI,QAAJ,CACM,KAAN,OACM,QAAN,GAGI,QAAJ,CACM,KAAN,OACM,QAAN,GAGI,QAAJ,CACM,KAAN,OACM,QAAN,UAGI,SAAJ,CACM,KAAN,QAGI,aAAJ,CACM,KAAN,OACM,QAAN,IAGE,KAxDF,WAyDI,MAAJ,IAEE,QA3DF,WA4DI,IACJ,EACI,EACA,EACA,EACA,EACA,EACA,EAGJ,EAVA,OAUA,gBACM,EAAN,2GAGA,IACM,EAAN,8CAEI,EAAJ,gCACI,EAAJ,uBACI,EAAJ,8BACI,EAAJ,0BAEI,EAAJ,6BACI,EAAJ,mBAEI,IAAJ,EACI,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EAAJ,kBAEI,EAAJ,kBACM,EAAN,QACM,EAAN,SAEM,EAAN,uCACM,EAAN,sBACM,EAAN,YACM,EAAN,sBACM,EAAN,YAEM,EAAN,kBACM,EAAN,SAEM,EAAN,6BACM,EAAN,oBACM,EAAN,kBACM,EAAN,SAEM,EAAN,yBACM,EAAN,2BACM,EAAN,YACM,EAAN,aAEM,EAAN,YACM,EAAN,iCAEA,qBACQ,EAAR,cACQ,EAAR,IACQ,EAAR,+BAIA,uBACQ,EAAR,4BACQ,EAAR,IACA,cACA,IACA,IACA,EACA,iBACA,IAIM,EAAN,QAGI,IAAJ,cACM,EAAN,iBAEM,EAAN,mCACM,EAAN,gCACM,EACN,UACA,aACA,sCACM,EACN,UACA,YACA,qCAEA,cACM,EAAN,oCAEA,cACM,EAAN,oCAEA,cACM,EAAN,iBACM,EAAN,kBACM,IAAN,eACA,kBAEM,EAAN,QAEM,IACN,IADA,eAGA,sEACA,uEACM,GAAN,iBACQ,IAAR,sBACA,sBAEQ,EAAR,QACQ,EAAR,YACA,CACQ,IAAR,sBACA,sBAEQ,EAAR,QACQ,EAAR,QAEM,EAAN,mBACM,EAAN,oBACM,EAAN,wBACM,EAAN,yBAEA,cACM,EAAN,iBADM,IAAN,EAGA,0BADA,EAFA,EAEA,QAFA,EAEA,OAEA,yBACA,wBACA,MACA,MAEA,cACQ,EAAR,YACA,sBACQ,EAAR,mBAGA,cACQ,EAAR,YACA,uBACQ,EAAR,oBAEM,EAAN,kBACM,EAAN,kBAEI,EAAJ,gCACI,EAAJ,iCACI,EAAJ,8BACI,EAAJ,iCACI,EAAJ,iBACA,SACA,WACA,cACA,eADM,IAEN,cACA,eACA,YACA,aAEA,+BACA,qBAEA,uBACQ,EAAR,QACQ,EAAR,SACQ,EAAR,IACA,IACA,IACA,IACA,EACA,iBACA,GAEQ,EAAR,sBACQ,EAAR,SACQ,EAAR,OAEQ,EAAR,UACA,GACA,kCACA,uBACA,IACA,IACA,EACA,EACA,EACA,IAKA,qBACQ,EAAR,cACQ,EAAR,eACQ,EAAR,UACA,GACA,2BACA,IACA,oBACA,UACA,SACA,EACA,GACA,QACA,SAIM,EAAN,2CAEA,GAEI,EAAJ,iBACA,SACA,WACM,EAAN,6BACM,EAAN,oBACM,EAAN,aACM,EAAN,YACM,EAAN,yBACM,EAAN,4BAEA,IAGE,QAAF,CACI,GADJ,WAEM,IAAN,2CACM,MAAN,CACQ,OAAR,eACQ,SAAR,oBACQ,UAAR,kBACQ,YAAR,qBACQ,gBAAR,yBACQ,QAAR,yBACQ,KAAR,yBACQ,QAAR,yBACQ,OAAR,yBACQ,OAAR,yBACQ,QAAR,yBACQ,MAAR,sBC3U4V,I,yBCQxVW,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCWf,GACE,WAAF,CACI,iBAAJ,GAEE,KAJF,WAKI,MAAJ,CACM,GAAN,CACQ,QAAR,UACQ,UAAR,IACQ,cAAR,EACQ,cAAR,EACQ,QAAR,GACQ,cAAR,YACU,QAAV,SAGM,GAAN,CACQ,QAAR,UACQ,SAAR,sBACQ,UAAR,IACQ,cAAR,KACQ,cAAR,GACQ,QAAR,GACQ,cAAR,YACU,QAAV,QAEQ,QAAR,EACQ,QAAR,EACQ,QAAR,OACQ,aAAR,KAME,QAnCF,cC9B4V,ICOxV,EAAY,eACd,EACA1B,EACAsB,GACA,EACA,KACA,KACA,MAIa,e,gCClBfxB,EAAOC,QAAU,IAA0B,0C,uBCC3C,IAAI4B,EAA8B,EAAQ,QACtCC,EAAkC,EAAQ,QAC1CC,EAAgC,EAAQ,QAC5C9B,EAAU4B,GAA4B,GACtC,IAAIG,EAAqCF,EAAgCC,GAEzE9B,EAAQgC,KAAK,CAACjC,EAAOkC,EAAI,4OAA8OF,EAAqC,gjBAAijB,KAE71BhC,EAAOC,QAAUA,G,oCCRjB,IAAIkC,EAAW,EAAQ,QACnBC,EAAkB,EAAQ,QAC1BC,EAAW,EAAQ,QAIvBrC,EAAOC,QAAU,SAAcqC,GAC7B,IAAIC,EAAIJ,EAAS/B,MACboC,EAASH,EAASE,EAAEC,QACpBC,EAAkBC,UAAUF,OAC5BG,EAAQP,EAAgBK,EAAkB,EAAIC,UAAU,QAAKE,EAAWJ,GACxEK,EAAMJ,EAAkB,EAAIC,UAAU,QAAKE,EAC3CE,OAAiBF,IAARC,EAAoBL,EAASJ,EAAgBS,EAAKL,GAC/D,MAAOM,EAASH,EAAOJ,EAAEI,KAAWL,EACpC,OAAOC,I,qBCfTvC,EAAOC,QAAU,0P,qBCAjB,IAAI8C,EAAI,EAAQ,QACZC,EAAO,EAAQ,QACfC,EAAmB,EAAQ,QAI/BF,EAAE,CAAEG,OAAQ,QAASC,OAAO,GAAQ,CAClCH,KAAMA,IAIRC,EAAiB,S,qBCRjB,IAAIG,EAAU,EAAQ,QACA,kBAAZA,IAAsBA,EAAU,CAAC,CAACpD,EAAOkC,EAAIkB,EAAS,MAC7DA,EAAQC,SAAQrD,EAAOC,QAAUmD,EAAQC,QAE5C,IAAIC,EAAM,EAAQ,QAA+DC,QACpED,EAAI,WAAYF,GAAS,EAAM,CAAC,WAAY,EAAM,YAAa,K,mCCR5E,yBAAmmB,EAAG","file":"js/chunk-2485c56d.254457e5.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/img-intercep.f8e9497a.jpg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('iworkImgIntercep',{attrs:{\"picture\":_vm.T1.picture,\"wrapWidth\":_vm.T1.wrapWidth,\"edgeMax\":_vm.T1.edgeMax,\"computedUnitX\":_vm.T1.computedUnitX,\"computedUnitY\":_vm.T1.computedUnitY,\"getExtractImg\":_vm.T1.getExtractImg}}),_c('div',{staticClass:\"iworkImgIntercep-P\"},[_c('iworkImgIntercep',{attrs:{\"picture\":_vm.T2.picture,\"selector\":_vm.T2.selector,\"wrapWidth\":_vm.T2.wrapWidth,\"edgeMax\":_vm.T2.edgeMax,\"computedUnitX\":_vm.T2.computedUnitX,\"computedUnitY\":_vm.T2.computedUnitY,\"getExtractImg\":_vm.T2.getExtractImg,\"enLarge\":_vm.T2.enLarge,\"enSmall\":_vm.T2.enSmall,\"sAreaTp\":_vm.T2.sAreaTp,\"wRectUnitNum\":_vm.T2.wRectUnitNum}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"img-intercep-wrap iwork-img-intercep\"},[_c('div',{staticClass:\"pic_wrapper\"},[_c('img',{attrs:{\"src\":_vm.picture}}),_c('canvas',{staticClass:\"pic_show\"})]),_c('div',{staticClass:\"btn_list\",style:({width:_vm.wrapWidth+'px'})},[_c('button',{staticClass:\"translate\"},[_vm._v(\"截取\")]),_c('button',{staticClass:\"reset\"},[_vm._v(\"重置\")])]),_c('canvas',{staticClass:\"pic_draw\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"img-intercep-wrap iwork-img-intercep\">\n        <div class=\"pic_wrapper\">\n            <img :src=\"picture\" />\n            <canvas class=\"pic_show\"></canvas>\n        </div>\n        <div class=\"btn_list\" :style=\"{width:wrapWidth+'px'}\">\n            <button class=\"translate\">截取</button>\n            <button class=\"reset\">重置</button>\n        </div>\n        <canvas class=\"pic_draw\"></canvas>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"iworkImgIntercep\",\n    props: {\n        // 图片\n        picture: {\n            required: true,\n        },\n        // 图片显示宽度\n        wrapWidth: {\n            type: Number,\n            default: 500,\n        },\n        // 放大缩小单位X轴\n        computedUnitX: {\n            type: Number,\n            default: 6,\n        },\n        // 放大缩小单位Y轴\n        computedUnitY: {\n            type: Number,\n            default: 6,\n        },\n        // 可以移动到边缘的最大值\n        edgeMax: {\n            type: Number,\n            default: 10,\n        },\n        // 返回的截取的base64\n        getExtractImg: {\n            type: Function,\n        },\n        // 放大倍数\n        enLarge: {\n            type: Number,\n            default: 2,\n        },\n        // 缩小倍数\n        enSmall: {\n            type: Number,\n            default: 2,\n        },\n        // 选择区域\n        sAreaTp:{\n            type: String,\n            default: \"circle\" //circle:圆形 rect:矩形\n        },\n        // 针对多个组件共同使用需要设定父选择器\n        selector:{\n            type:String\n        },\n        // 计算的矩形区域占比\n        wRectUnitNum:{\n            type: Number,\n            default: 8,\n        }\n    },\n    data() {\n        return {};\n    },\n    mounted() {\n        let that = this;\n        let imgIntercepWrap, //最外层\n            pic_wrapper, //图片层--包含canvas遮罩和图片显示\n            img, //显示图片\n            pic_show, //画布\n            ctx,//画布上下文\n            translate, //截取按钮\n            reset; //重置按钮\n            \n        // 表示提供了父级选择器,更加精确\n        if(this.selector){\n            imgIntercepWrap = document.querySelector(this.selector)?.querySelector(\".img-intercep-wrap\");\n        }\n        // 确保一定有最外层对象\n        if(!imgIntercepWrap){\n            imgIntercepWrap = document.querySelector(\".img-intercep-wrap\");\n        }\n        pic_wrapper = imgIntercepWrap.querySelector(\".pic_wrapper\");\n        img = pic_wrapper.querySelector(\"img\");\n        translate = imgIntercepWrap.querySelector(\".translate\");\n        reset = imgIntercepWrap.querySelector(\".reset\");\n        /** @type {HTMLCanvasElement} */\n        pic_show = pic_wrapper.querySelector(\".pic_show\");\n        ctx = pic_show.getContext(\"2d\");\n\n        let initWidth,//导入图片的宽\n            initHeight,//导入图片的高\n            disXO, //移动x轴距离\n            disYO, //移动y轴距离\n            maxWidth, //放大最大宽度\n            maxHeight, //放大最大高度\n            minWidth, //缩小最大宽度\n            minHeight, //缩小最大高度\n            wrapHeight, //通过宽度计算显示的高度\n            wrapCircleR, //计算的截取圆区域半径\n            wRectUnitX, //计算的矩形的x轴单位\n            wRectUnitY, //计算的矩形的y轴单位\n            wRectUnitNum=this.wRectUnitNum; //计算的矩形区域占比\n        \n        img.onload = function () {\n            initWidth = img.width;\n            initHeight = img.height;\n\n            wrapHeight = parseInt((img.height / img.width) * that.wrapWidth);\n            maxWidth = that.wrapWidth * that.enLarge;\n            maxHeight = wrapHeight * that.enLarge;\n            minWidth = that.wrapWidth / that.enSmall;\n            minHeight = wrapHeight / that.enSmall;\n\n            img.width = that.wrapWidth;\n            img.height = wrapHeight;\n\n            pic_wrapper.style.width = that.wrapWidth + \"px\";\n            pic_wrapper.style.height = wrapHeight + \"px\";\n            pic_show.width = that.wrapWidth;\n            pic_show.height = wrapHeight;\n            // 初始化设置\n            img.style.width = img.width + \"px\";\n            img.style.height = img.height + \"px\";\n            img.style.top = 0;\n            img.style.left = 0;\n\n            ctx.beginPath();\n            ctx.fillStyle = \"rgba(255,255,255,.3)\";\n            /*矩形代码*/\n            if(that.sAreaTp===\"rect\"){\n                wRectUnitX = that.wrapWidth / wRectUnitNum;\n                wRectUnitY = wrapHeight / wRectUnitNum;\n                ctx.fillRect(wRectUnitX, wRectUnitY, (wRectUnitNum-2) * wRectUnitX, (wRectUnitNum-2) * wRectUnitY);\n            }\n            /*矩形代码*/\n            /*圆形代码*/\n            if(that.sAreaTp===\"circle\"){\n                wrapCircleR=that.wrapWidth>wrapHeight?wrapHeight:that.wrapWidth\n                ctx.arc(\n                    that.wrapWidth / 2,\n                    wrapHeight / 2,\n                    wrapCircleR / 2,\n                    0,\n                    (Math.PI / 180) * 360,\n                    false\n                );\n            }\n            /*圆形代码*/\n            ctx.fill();\n        };\n\n        let mousedownFn = function (e) {\n            e.preventDefault();\n            // 针对移速过快导致拖拽物脱离鼠标问题\n            pic_wrapper.removeEventListener(\"mousemove\", mousemoveFn);\n            img.addEventListener(\"mousemove\", mousemoveFn);\n            disXO =\n                e.clientX -\n                pic_wrapper.offsetLeft -\n                parseInt(img.style.left ? img.style.left : 0);\n            disYO =\n                e.clientY -\n                pic_wrapper.offsetTop -\n                parseInt(img.style.top ? img.style.top : 0);\n        };\n        let mouseupFn = function (e) {\n            img.removeEventListener(\"mousemove\", mousemoveFn);\n        };\n        let mouseleaveFn = function (e) {\n            img.removeEventListener(\"mousemove\", mousemoveFn);\n        };\n        let mousewheelFn = function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n            let wheelDelta = e.wheelDelta;\n            let lv = Math.abs(wheelDelta) / 120;\n            // 保证放大倍数\n            lv = lv < 1 ? 1 : lv;\n            // 获取是否为mac\n            const osMac = that.os().isMac;\n            let attrWidth,attrHeight;\n            // 利用属性，防止小数\n            let imgWidth = img.getAttribute(\"attrW\")? parseFloat(img.getAttribute(\"attrW\")):img.width\n            let imgHeight = img.getAttribute(\"attrH\")? parseFloat(img.getAttribute(\"attrH\")):img.height\n            if ((wheelDelta > 0 && osMac) || (!osMac && wheelDelta < 0)) {\n                let newWidth =  imgWidth - lv * that.computedUnitX;\n                let newHeight = imgHeight - lv * that.computedUnitY;\n                // 获取宽度,高度，将其设置到属性上\n                attrWidth = newWidth > minWidth ?newWidth:minWidth\n                attrHeight = newHeight > minHeight?newHeight:minHeight\n            } else {\n                let newWidth = imgWidth + lv * that.computedUnitX;\n                let newHeight = imgHeight + lv * that.computedUnitY;\n                // 获取宽度,高度，将其设置到属性上\n                attrWidth = newWidth < maxWidth?newWidth:minWidth\n                attrHeight = newHeight < maxHeight?newHeight:minHeight\n            }\n            img.style.width = attrWidth + \"px\";\n            img.style.height = attrHeight + \"px\";\n            img.setAttribute(\"attrW\",attrWidth)\n            img.setAttribute(\"attrH\",attrHeight)\n        };\n        let mousemoveFn = function (e) {\n            e.preventDefault();\n            let { width: wWidth, height: wHeight } =\n                pic_wrapper.getBoundingClientRect();\n            let disXT = e.clientX - pic_wrapper.offsetLeft;\n            let disYT = e.clientY - pic_wrapper.offsetTop;\n            let disX = disXT - disXO;\n            let disY = disYT - disYO;\n            // -10可以移动到边缘的最大值\n            if (wWidth - disX < that.edgeMax) {\n                disX = wWidth - that.edgeMax;\n            } else if (disX + img.width < that.edgeMax) {\n                disX = that.edgeMax - img.width;\n            }\n            // -10可以移动到边缘的最大值\n            if (wHeight - disY < that.edgeMax) {\n                disY = wHeight - that.edgeMax;\n            } else if (disY + img.height < that.edgeMax) {\n                disY = that.edgeMax - img.height;\n            }\n            img.style.left = disX + \"px\";\n            img.style.top = disY + \"px\";\n        };\n        img.addEventListener(\"mousedown\", mousedownFn);\n        img.addEventListener(\"mouseleave\", mouseleaveFn);\n        img.addEventListener(\"mouseup\", mouseupFn);\n        pic_wrapper.addEventListener(\"mousewheel\", mousewheelFn);\n        translate.addEventListener(\n            \"click\",\n            function () {\n                const width = img.style.width;\n                const height = img.style.height;\n                const top = img.style.top;\n                const left = img.style.left;\n                const lvW = initWidth / img.width;\n                const lvH = initHeight / img.height;  \n\n                let pic_draw = imgIntercepWrap.querySelector(\".pic_draw\");\n                let ctx1 = pic_draw.getContext(\"2d\");\n                /*圆形代码*/\n                if(that.sAreaTp===\"circle\"){\n                    pic_draw.width = wrapCircleR;\n                    pic_draw.height = wrapCircleR;\n                    ctx1.arc(\n                        wrapCircleR / 2,\n                        wrapCircleR / 2,\n                        wrapCircleR / 2,\n                        0,\n                        (Math.PI / 180) * 360,\n                        false\n                    );\n                    ctx1.strokeStyle = \"#FFFFFF\"; // 设置绘制圆形边框的颜色\n                    ctx1.stroke(); // 绘制出圆形，默认为黑色，可通过 ctx.strokeStyle = '#FFFFFF'， 设置想要的颜色\n                    ctx1.clip();\n                    // 核心计算画的区域\n                    ctx1.drawImage(\n                        img,\n                        (that.wrapWidth / 2 - wrapCircleR / 2 - parseInt(left)) * lvW,\n                        (wrapHeight/2 - wrapCircleR/2 - parseInt(top)) * lvH,\n                        wrapCircleR * lvW,\n                        wrapCircleR * lvH,\n                        0,\n                        0,\n                        wrapCircleR,\n                        wrapCircleR\n                    );\n                }\n                /*圆形代码*/\n                /*矩形代码*/\n                if(that.sAreaTp===\"rect\"){\n                    pic_draw.width = (wRectUnitNum-2)*wRectUnitX;\n                    pic_draw.height = (wRectUnitNum-2)*wRectUnitY;\n                    ctx1.drawImage(\n                        img,\n                        (that.wrapWidth / wRectUnitNum - parseInt(left)) *\n                            lvW,\n                        (-parseInt(top) +wRectUnitY) * lvH+2,\n                        (wRectUnitNum-2)*wRectUnitX * lvW,\n                        (wRectUnitNum-2)*wRectUnitY * lvH,\n                        0,\n                        0,\n                        (wRectUnitNum-2)*wRectUnitX,\n                        (wRectUnitNum-2)*wRectUnitY\n                    );\n                }\n                /*矩形代码*/\n                that.getExtractImg(pic_draw.toDataURL(\"image/png\"));\n            },\n            false\n        );\n        reset.addEventListener(\n            \"click\",\n            function () {\n                img.style.width = that.wrapWidth + \"px\";\n                img.style.height = wrapHeight + \"px\";\n                img.style.left = 0;\n                img.style.top = 0;\n                img.removeAttribute(\"attrW\")\n                img.removeAttribute(\"attrH\")\n            },\n            false\n        );\n    },\n    methods: {\n        os() {\n            let UserAgent = window.navigator.userAgent.toLowerCase();\n            return {\n                isIpad: /ipad/.test(UserAgent),\n                isIphone: /iphone os/.test(UserAgent),\n                isAndroid: /android/.test(UserAgent),\n                isWindowsCe: /windows ce/.test(UserAgent),\n                isWindowsMobile: /windows mobile/.test(UserAgent),\n                isWin2K: /windows nt 5.0/.test(UserAgent),\n                isXP: /windows nt 5.1/.test(UserAgent),\n                isVista: /windows nt 6.0/.test(UserAgent),\n                isWin7: /windows nt 6.1/.test(UserAgent),\n                isWin8: /windows nt 6.2/.test(UserAgent),\n                isWin81: /windows nt 6.3/.test(UserAgent),\n                isMac: /mac os/.test(UserAgent),\n            };\n        },\n    },\n};\n</script>\n<style lang=\"scss\" scoped>\n.img-intercep-wrap {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    font-size: 0;\n    & > .pic_wrapper {\n        display: inline-block;\n        overflow: hidden;\n        cursor: move;\n        position: relative;\n        background: url(../assets/touming.png);\n        & > img {\n            position: absolute;\n            z-index: 1;\n        }\n\n        & > .pic_show {\n            left: 0;\n            top: 0;\n            position: absolute;\n            z-index: 2;\n            pointer-events: none;\n        }\n    }\n\n    & > .btn_list {\n        margin: 0.03rem auto;\n        display: flex;\n        font-size: 0.14rem;\n        & > button {\n            flex: 1;\n            border: none;\n        }\n        & > .translate {\n            border-right: 1px #ddd solid;\n            background: var(--first);\n        }\n        & > .reset {\n            background: var(--second);\n        }\n    }\n\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iwork-img-intercep.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iwork-img-intercep.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./iwork-img-intercep.vue?vue&type=template&id=74255e40&scoped=true&\"\nimport script from \"./iwork-img-intercep.vue?vue&type=script&lang=js&\"\nexport * from \"./iwork-img-intercep.vue?vue&type=script&lang=js&\"\nimport style0 from \"./iwork-img-intercep.vue?vue&type=style&index=0&id=74255e40&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74255e40\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div>\n        <iworkImgIntercep\n            :picture=\"T1.picture\"\n            :wrapWidth=\"T1.wrapWidth\"\n            :edgeMax=\"T1.edgeMax\"\n            :computedUnitX=\"T1.computedUnitX\"\n            :computedUnitY=\"T1.computedUnitY\"\n            :getExtractImg=\"T1.getExtractImg\"\n        ></iworkImgIntercep>\n        <div class=\"iworkImgIntercep-P\">\n            <iworkImgIntercep\n                :picture=\"T2.picture\"\n                :selector=\"T2.selector\"\n                :wrapWidth=\"T2.wrapWidth\"\n                :edgeMax=\"T2.edgeMax\"\n                :computedUnitX=\"T2.computedUnitX\"\n                :computedUnitY=\"T2.computedUnitY\"\n                :getExtractImg=\"T2.getExtractImg\"\n                :enLarge=\"T2.enLarge\"\n                :enSmall=\"T2.enSmall\"\n                :sAreaTp=\"T2.sAreaTp\"\n                :wRectUnitNum=\"T2.wRectUnitNum\"\n            ></iworkImgIntercep>\n        </div>\n    </div>\n</template>\n\n<script>\nimport iworkImgIntercep from \"@/components/iwork-img-intercep.vue\";\nexport default {\n    components: {\n        iworkImgIntercep,\n    },\n    data() {\n        return {\n           T1:{\n                picture: require(\"../assets/img-intercep.jpg\"),\n                wrapWidth:500,\n                computedUnitX:7,\n                computedUnitY:4,\n                edgeMax:10,\n                getExtractImg:function(imgBase64){\n                    console.log(imgBase64);\n                }\n           },\n           T2:{\n                picture: require(\"../assets/picture-magnifier-car.jpg\"),\n                selector:\".iworkImgIntercep-P\",\n                wrapWidth:500,\n                computedUnitX:4.62,\n                computedUnitY:10,\n                edgeMax:10,\n                getExtractImg:function(imgBase64){\n                    console.log(imgBase64);\n                },\n                enLarge:3,\n                enSmall:6,\n                sAreaTp:\"rect\",\n                wRectUnitNum:8\n                        \n                        \n           }\n        };\n    },\n    created() {},\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iwork-img-intercep.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iwork-img-intercep.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./iwork-img-intercep.vue?vue&type=template&id=414dcd20&\"\nimport script from \"./iwork-img-intercep.vue?vue&type=script&lang=js&\"\nexport * from \"./iwork-img-intercep.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/picture-magnifier-car.349ff52e.jpg\";","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../assets/touming.png\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\nexports.push([module.id, \".img-intercep-wrap[data-v-74255e40]{display:flex;flex-direction:column;align-items:center;font-size:0}.img-intercep-wrap>.pic_wrapper[data-v-74255e40]{display:inline-block;overflow:hidden;cursor:move;position:relative;background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \")}.img-intercep-wrap>.pic_wrapper>img[data-v-74255e40]{position:absolute;z-index:1}.img-intercep-wrap>.pic_wrapper>.pic_show[data-v-74255e40]{left:0;top:0;position:absolute;z-index:2;pointer-events:none}.img-intercep-wrap>.btn_list[data-v-74255e40]{margin:.03rem auto;display:flex;font-size:.14rem}.img-intercep-wrap>.btn_list>button[data-v-74255e40]{flex:1;border:none}.img-intercep-wrap>.btn_list>.translate[data-v-74255e40]{border-right:1px solid #ddd;background:var(--first)}.img-intercep-wrap>.btn_list>.reset[data-v-74255e40]{background:var(--second)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC\"","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iwork-img-intercep.vue?vue&type=style&index=0&id=74255e40&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"6061f689\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import mod from \"-!../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iwork-img-intercep.vue?vue&type=style&index=0&id=74255e40&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iwork-img-intercep.vue?vue&type=style&index=0&id=74255e40&lang=scss&scoped=true&\""],"sourceRoot":""}