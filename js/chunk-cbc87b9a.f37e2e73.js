(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cbc87b9a"],{"0cbe":function(e,t,r){var i=r("24fb"),a=r("1de5"),n=r("86f0");t=i(!1);var s=a(n);t.push([e.i,".img-intercep-wrap[data-v-8c5bb1f4]{display:flex;flex-direction:column;align-items:center;font-size:0}.img-intercep-wrap>.pic_wrapper[data-v-8c5bb1f4]{display:inline-block;overflow:hidden;cursor:move;position:relative;background:url("+s+")}.img-intercep-wrap>.pic_wrapper>img[data-v-8c5bb1f4]{position:absolute;z-index:1}.img-intercep-wrap>.pic_wrapper>.pic_show[data-v-8c5bb1f4]{left:0;top:0;position:absolute;z-index:2;pointer-events:none}.img-intercep-wrap>.btn_list[data-v-8c5bb1f4]{margin:.03rem auto;display:flex;font-size:.14rem;height:.32rem}.img-intercep-wrap>.btn_list>button[data-v-8c5bb1f4]{flex:1;border:none;outline:none;color:#333}.img-intercep-wrap>.btn_list>.translate[data-v-8c5bb1f4]{border-right:1px solid #ddd;background:var(--first)}.img-intercep-wrap>.btn_list>.reset[data-v-8c5bb1f4]{background:var(--second)}",""]),e.exports=t},1148:function(e,t,r){"use strict";var i=r("da84"),a=r("5926"),n=r("577e"),s=r("1d80"),o=i.RangeError;e.exports=function(e){var t=n(s(this)),r="",i=a(e);if(i<0||i==1/0)throw o("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(r+=t);return r}},"157b":function(e,t,r){e.exports=r.p+"img/img-intercep.f8e9497a.jpg"},"35a8":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("iworkImgIntercep",{attrs:{picture:e.T1.picture,wrapWidth:e.T1.wrapWidth,edgeMax:e.T1.edgeMax,getExtractImg:e.T1.getExtractImg}}),r("div",{staticClass:"iworkImgIntercep-P"},[r("iworkImgIntercep",{attrs:{picture:e.T2.picture,selector:e.T2.selector,wrapWidth:e.T2.wrapWidth,edgeMax:e.T2.edgeMax,getExtractImg:e.T2.getExtractImg,enLarge:e.T2.enLarge,enSmall:e.T2.enSmall,sAreaTp:e.T2.sAreaTp,wRectUnitNum:e.T2.wRectUnitNum}})],1)],1)},a=[],n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"img-intercep-wrap iwork-img-intercep"},[r("div",{staticClass:"pic_wrapper"},[r("img",{attrs:{src:e.picture}}),r("canvas",{staticClass:"pic_show"})]),r("div",{staticClass:"btn_list",style:{width:e.wrapWidth+"px"}},[r("button",{staticClass:"translate"},[e._v("截取")]),r("button",{staticClass:"reset"},[e._v("重置")])]),r("canvas",{staticClass:"pic_draw"})])},s=[],o=(r("a9e3"),r("b680"),r("cb29"),r("ac1f"),r("00b4"),{name:"iworkImgIntercep",props:{picture:{required:!0},wrapWidth:{type:Number,default:500},bSRate:{type:Number,default:4},edgeMax:{type:Number,default:10},getExtractImg:{type:Function},enLarge:{type:Number,default:2},enSmall:{type:Number,default:2},sAreaTp:{type:String,default:"circle"},selector:{type:String},wRectUnitNum:{type:Number,default:8}},data:function(){return{}},mounted:function(){var e,t,r,i,a,n,s,o,c=this;this.selector&&(e=null===(o=document.querySelector(this.selector))||void 0===o?void 0:o.querySelector(".img-intercep-wrap"));e||(e=document.querySelector(".img-intercep-wrap")),t=e.querySelector(".pic_wrapper"),r=t.querySelector("img"),n=e.querySelector(".translate"),s=e.querySelector(".reset"),i=t.querySelector(".pic_show"),a=i.getContext("2d");var l,p,d,u,g,w,h,f,m,b,v,A,x,y=1,I=this.wRectUnitNum;r.onload=function(){l=r.width,p=r.height,x=parseFloat((l/p).toFixed(3)),m=parseInt(r.height/r.width*c.wrapWidth),g=c.wrapWidth*c.enLarge,w=m*c.enLarge,h=c.wrapWidth/c.enSmall,f=m/c.enSmall,r.width=c.wrapWidth,r.height=m,t.style.width=c.wrapWidth+"px",t.style.height=m+"px",i.width=c.wrapWidth,i.height=m,r.style.width=r.width+"px",r.style.height=r.height+"px",r.style.top=0,r.style.left=0,a.beginPath(),a.fillStyle="rgba(255,255,255,.3)","rect"===c.sAreaTp&&(v=c.wrapWidth/I,A=m/I,a.fillRect(v,A,(I-2)*v,(I-2)*A)),"circle"===c.sAreaTp&&(b=c.wrapWidth>m?m:c.wrapWidth,a.arc(c.wrapWidth/2,m/2,b/2,0,Math.PI/180*360,!1)),a.fill()};var W=function(e){e.preventDefault(),t.removeEventListener("mousemove",E),r.addEventListener("mousemove",E),d=e.clientX-t.offsetLeft-parseInt(r.style.left?r.style.left:0),u=e.clientY-t.offsetTop-parseInt(r.style.top?r.style.top:0)},M=function(e){r.removeEventListener("mousemove",E)},S=function(e){r.removeEventListener("mousemove",E)},T=function(e){e.preventDefault(),e.stopPropagation();var t=e.wheelDelta,i=Math.abs(t)/120;i=i<1?1:i;var a,n,s=c.os().isMac,o=r.getAttribute("attrW")?parseFloat(r.getAttribute("attrW")):r.width,l=r.getAttribute("attrH")?parseFloat(r.getAttribute("attrH")):r.height;if(t>0&&s||!s&&t<0){var p=o-i*x*c.bSRate,d=l-i*y*c.bSRate;a=p>h?p:h,n=d>f?d:f}else{var u=o+i*x*c.bSRate,m=l+i*y*c.bSRate;a=u<g?u:g,n=m<w?m:w}r.style.width=a+"px",r.style.height=n+"px",r.setAttribute("attrW",a),r.setAttribute("attrH",n)},E=function(e){e.preventDefault();var i=t.getBoundingClientRect(),a=i.width,n=i.height,s=e.clientX-t.offsetLeft,o=e.clientY-t.offsetTop,l=s-d,p=o-u;a-l<c.edgeMax?l=a-c.edgeMax:l+r.width<c.edgeMax&&(l=c.edgeMax-r.width),n-p<c.edgeMax?p=n-c.edgeMax:p+r.height<c.edgeMax&&(p=c.edgeMax-r.height),r.style.left=l+"px",r.style.top=p+"px"};r.addEventListener("mousedown",W),r.addEventListener("mouseleave",S),r.addEventListener("mouseup",M),t.addEventListener("mousewheel",T),n.addEventListener("click",(function(){r.style.width,r.style.height;var t=r.style.top,i=r.style.left,a=l/r.width,n=p/r.height,s=e.querySelector(".pic_draw"),o=s.getContext("2d");"circle"===c.sAreaTp&&(s.width=b,s.height=b,o.arc(b/2,b/2,b/2,0,Math.PI/180*360,!1),o.strokeStyle="#FFFFFF",o.stroke(),o.clip(),o.drawImage(r,(c.wrapWidth/2-b/2-parseInt(i))*a,(m/2-b/2-parseInt(t))*n,b*a,b*n,0,0,b,b)),"rect"===c.sAreaTp&&(s.width=(I-2)*v,s.height=(I-2)*A,o.drawImage(r,(c.wrapWidth/I-parseInt(i))*a,(-parseInt(t)+A)*n+2,(I-2)*v*a,(I-2)*A*n,0,0,(I-2)*v,(I-2)*A)),c.getExtractImg(s.toDataURL("image/png"))}),!1),s.addEventListener("click",(function(){r.style.width=c.wrapWidth+"px",r.style.height=m+"px",r.style.left=0,r.style.top=0,r.removeAttribute("attrW"),r.removeAttribute("attrH")}),!1)},methods:{os:function(){var e=window.navigator.userAgent.toLowerCase();return{isIpad:/ipad/.test(e),isIphone:/iphone os/.test(e),isAndroid:/android/.test(e),isWindowsCe:/windows ce/.test(e),isWindowsMobile:/windows mobile/.test(e),isWin2K:/windows nt 5.0/.test(e),isXP:/windows nt 5.1/.test(e),isVista:/windows nt 6.0/.test(e),isWin7:/windows nt 6.1/.test(e),isWin8:/windows nt 6.2/.test(e),isWin81:/windows nt 6.3/.test(e),isMac:/mac os/.test(e)}}}}),c=o,l=(r("80d1"),r("2877")),p=Object(l["a"])(c,n,s,!1,null,"8c5bb1f4",null),d=p.exports,u={components:{iworkImgIntercep:d},data:function(){return{T1:{picture:r("157b"),wrapWidth:500,edgeMax:10,getExtractImg:function(e){console.log(e)}},T2:{picture:r("67c9"),selector:".iworkImgIntercep-P",wrapWidth:500,edgeMax:10,getExtractImg:function(e){console.log(e)},enLarge:3,enSmall:6,sAreaTp:"rect",wRectUnitNum:8}}},created:function(){}},g=u,w=Object(l["a"])(g,i,a,!1,null,null,null);t["default"]=w.exports},"67c9":function(e,t,r){e.exports=r.p+"img/picture-magnifier-car.349ff52e.jpg"},"67ec":function(e,t,r){var i=r("0cbe");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=r("499e").default;a("061b85e3",i,!0,{sourceMap:!1,shadowMode:!1})},"80d1":function(e,t,r){"use strict";r("67ec")},"81d5":function(e,t,r){"use strict";var i=r("7b0b"),a=r("23cb"),n=r("07fa");e.exports=function(e){var t=i(this),r=n(t),s=arguments.length,o=a(s>1?arguments[1]:void 0,r),c=s>2?arguments[2]:void 0,l=void 0===c?r:a(c,r);while(l>o)t[o++]=e;return t}},"86f0":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC"},b680:function(e,t,r){"use strict";var i=r("23e7"),a=r("da84"),n=r("e330"),s=r("5926"),o=r("408a"),c=r("1148"),l=r("d039"),p=a.RangeError,d=a.String,u=Math.floor,g=n(c),w=n("".slice),h=n(1..toFixed),f=function(e,t,r){return 0===t?r:t%2===1?f(e,t-1,r*e):f(e*e,t/2,r)},m=function(e){var t=0,r=e;while(r>=4096)t+=12,r/=4096;while(r>=2)t+=1,r/=2;return t},b=function(e,t,r){var i=-1,a=r;while(++i<6)a+=t*e[i],e[i]=a%1e7,a=u(a/1e7)},v=function(e,t){var r=6,i=0;while(--r>=0)i+=e[r],e[r]=u(i/t),i=i%t*1e7},A=function(e){var t=6,r="";while(--t>=0)if(""!==r||0===t||0!==e[t]){var i=d(e[t]);r=""===r?i:r+g("0",7-i.length)+i}return r},x=l((function(){return"0.000"!==h(8e-5,3)||"1"!==h(.9,0)||"1.25"!==h(1.255,2)||"1000000000000000128"!==h(0xde0b6b3a7640080,0)}))||!l((function(){h({})}));i({target:"Number",proto:!0,forced:x},{toFixed:function(e){var t,r,i,a,n=o(this),c=s(e),l=[0,0,0,0,0,0],u="",h="0";if(c<0||c>20)throw p("Incorrect fraction digits");if(n!=n)return"NaN";if(n<=-1e21||n>=1e21)return d(n);if(n<0&&(u="-",n=-n),n>1e-21)if(t=m(n*f(2,69,1))-69,r=t<0?n*f(2,-t,1):n/f(2,t,1),r*=4503599627370496,t=52-t,t>0){b(l,0,r),i=c;while(i>=7)b(l,1e7,0),i-=7;b(l,f(10,i,1),0),i=t-1;while(i>=23)v(l,1<<23),i-=23;v(l,1<<i),b(l,1,1),v(l,2),h=A(l)}else b(l,0,r),b(l,1<<-t,0),h=A(l)+g("0",c);return c>0?(a=h.length,h=u+(a<=c?"0."+g("0",c-a)+h:w(h,0,a-c)+"."+w(h,a-c))):h=u+h,h}})},cb29:function(e,t,r){var i=r("23e7"),a=r("81d5"),n=r("44d2");i({target:"Array",proto:!0},{fill:a}),n("fill")}}]);
//# sourceMappingURL=chunk-cbc87b9a.f37e2e73.js.map